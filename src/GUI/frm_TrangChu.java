/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package GUI;

import DAO.ChiTietHoaDonDAO;
import DAO.HoaDonDAO;
import DAO.KhachHangDAO;
import javax.swing.JOptionPane;
import java.sql.SQLException;
import DAO.NhaCungCapDAO;
import DAO.NhanVienDAO;
import DAO.SanPhamDAO;
import DAO.TaiKhoanDao;
import MODEL.ChiTietHoaDon;
import MODEL.HoaDon;
import MODEL.KhachHang;
import MODEL.NhaCungCap;
import MODEL.NhanVien;
import MODEL.SanPham;
import MODEL.TaiKhoan;
import java.awt.Image;
import java.io.File;
import java.sql.Connection;
import java.util.ArrayList;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.text.DecimalFormat;
import java.text.SimpleDateFormat;
import java.util.List;
import javax.swing.ImageIcon;
import javax.swing.table.DefaultTableModel;
import java.util.Date;
import javax.swing.JFileChooser;
import javax.swing.filechooser.FileNameExtensionFilter;

/**
 *
 * @author Admin
 */
public class frm_TrangChu extends javax.swing.JFrame {
    List<SanPham> listSP = new ArrayList<>();
    List<SanPham> listHDSP = new ArrayList<>();
    List<HoaDon> listHD = new ArrayList<>();
    List<TaiKhoan> listTK = new ArrayList<>();
    List<NhanVien> listNV = new ArrayList<>();
    List<NhaCungCap> listNCC = new ArrayList<>();
    List<KhachHang> listKH = new ArrayList<>();
    DefaultTableModel tblModel = new DefaultTableModel();
    String imgPath = "";
    DecimalFormat formatter = new DecimalFormat("#,###");
    SimpleDateFormat dateFormat = new SimpleDateFormat("dd/MM/yyyy");
    boolean isKHExist = false;
    private boolean isNewMode = false;

    private String userRole;
    private int maNV;
    private int maKH;
    /**
     * Creates new form frrm_TrangChu
     */
    public frm_TrangChu(String userRole) {
        this.userRole = userRole;
        initComponents();
        setLocationRelativeTo(null);
        loadSanPham();
        loadNhaCungCap();
        loadKhachHang();
        loadHoaDon();
        fillDataToTable();
        fillDataToTableNV();
        fillDataToTableKH();
        loadCboNhanVien();
        filldateTable();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jMenuItem1 = new javax.swing.JMenuItem();
        jInternalFrame1 = new javax.swing.JInternalFrame();
        jPanel7 = new javax.swing.JPanel();
        jPanel1 = new javax.swing.JPanel();
        btnCuaHang = new javax.swing.JButton();
        btnSanPham = new javax.swing.JButton();
        btnHoaDon = new javax.swing.JButton();
        btnPhieuNhap = new javax.swing.JButton();
        btnNhanVien = new javax.swing.JButton();
        btnKhachHang = new javax.swing.JButton();
        btnNhaCungCap = new javax.swing.JButton();
        btnTaiKhoan = new javax.swing.JButton();
        jTabbedPane = new javax.swing.JTabbedPane();
        pnlCuaHang = new javax.swing.JPanel();
        txtSearchBox_CH = new javax.swing.JTextField();
        btnSearch_CH = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        txtSDT_CH = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        txtTenKH_CH = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        txtMaNV_CH = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        txtDiaChi_CH = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jDateChooser1 = new com.toedter.calendar.JDateChooser();
        jScrollPane1 = new javax.swing.JScrollPane();
        tblSanPham_CH = new javax.swing.JTable();
        jScrollPane2 = new javax.swing.JScrollPane();
        tblHoaDon_CH = new javax.swing.JTable();
        jLabel1 = new javax.swing.JLabel();
        lbTongTien_CH = new javax.swing.JLabel();
        btnThanhToan_CH = new javax.swing.JButton();
        lbHinh_CH = new javax.swing.JLabel();
        label = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        txtSoLuong_CH = new javax.swing.JTextField();
        lbTenSP_CH = new javax.swing.JLabel();
        lbDonGia_CH = new javax.swing.JLabel();
        btnThem_CH = new javax.swing.JButton();
        btnLamMoi_CH = new javax.swing.JButton();
        btnXoa_CH = new javax.swing.JButton();
        btnSua_CH = new javax.swing.JButton();
        pnlSanPham = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        btnMoHinh_SP = new javax.swing.JButton();
        jScrollPane6 = new javax.swing.JScrollPane();
        txtMoTa_SP = new javax.swing.JTextArea();
        txtTenSP_SP = new javax.swing.JTextField();
        txtSoLuong_SP = new javax.swing.JTextField();
        cboNCC_SP = new javax.swing.JComboBox<>();
        txtDonGia_SP = new javax.swing.JTextField();
        jScrollPane7 = new javax.swing.JScrollPane();
        tblSanPham_SP = new javax.swing.JTable();
        jLabel13 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        lbHinh_SP = new javax.swing.JLabel();
        btnNhapMoi_SP = new javax.swing.JButton();
        btnThem_SP = new javax.swing.JButton();
        btnXoa_SP = new javax.swing.JButton();
        btnSua_SP = new javax.swing.JButton();
        jLabel21 = new javax.swing.JLabel();
        txtMaSP_SP = new javax.swing.JTextField();
        txtSearchBox_SP = new javax.swing.JTextField();
        btnSearch_SP = new javax.swing.JButton();
        pnlHoaDon = new javax.swing.JPanel();
        jLabel30 = new javax.swing.JLabel();
        txtMaHD_HD = new javax.swing.JTextField();
        jLabel31 = new javax.swing.JLabel();
        btnSearch_HD = new javax.swing.JButton();
        jDateChooser2 = new com.toedter.calendar.JDateChooser();
        jDateChooser3 = new com.toedter.calendar.JDateChooser();
        jLabel32 = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();
        jScrollPane4 = new javax.swing.JScrollPane();
        tblHoaDon_HD = new javax.swing.JTable();
        btnShowDetail_HD = new javax.swing.JButton();
        pnlPhieuNhap = new javax.swing.JPanel();
        pnlNhanVien = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        btn_Them_NV = new javax.swing.JButton();
        btn_Xoa_NV = new javax.swing.JButton();
        btn_Sua_NV = new javax.swing.JButton();
        btn_NhapMoi_NV = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        jScrollPane5 = new javax.swing.JScrollPane();
        tbl_NhanVien_NV1 = new javax.swing.JTable();
        jPanel5 = new javax.swing.JPanel();
        txt_Search_NV = new javax.swing.JTextField();
        btn_Search_NV = new javax.swing.JButton();
        btn_Reload_NV = new javax.swing.JButton();
        jPanel6 = new javax.swing.JPanel();
        jLabel22 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        txt_TenNV_NV = new javax.swing.JTextField();
        txt_Email_NV = new javax.swing.JTextField();
        txt_SDT_NV = new javax.swing.JTextField();
        jScrollPane8 = new javax.swing.JScrollPane();
        Tar_DiaChi_NV = new javax.swing.JTextArea();
        pnlKhachHang = new javax.swing.JPanel();
        jLabel26 = new javax.swing.JLabel();
        jPanel8 = new javax.swing.JPanel();
        jScrollPane9 = new javax.swing.JScrollPane();
        tbl_khachHang_KH = new javax.swing.JTable();
        jPanel9 = new javax.swing.JPanel();
        jLabel27 = new javax.swing.JLabel();
        jLabel28 = new javax.swing.JLabel();
        jLabel29 = new javax.swing.JLabel();
        txt_TenKH_KH = new javax.swing.JTextField();
        txt_SDT_KH = new javax.swing.JTextField();
        jScrollPane10 = new javax.swing.JScrollPane();
        Tar_DiaChi_KH = new javax.swing.JTextArea();
        jPanel10 = new javax.swing.JPanel();
        txt_Search_KH = new javax.swing.JTextField();
        btnSearch_KH = new javax.swing.JButton();
        btn_Them_KH = new javax.swing.JButton();
        btn_Xoa_KH = new javax.swing.JButton();
        btn_Sua_KH = new javax.swing.JButton();
        btn_NhapMoi_KH = new javax.swing.JButton();
        btn_Reload_KH = new javax.swing.JButton();
        pnlNhaCungCap = new javax.swing.JPanel();
        btnNhapMoi_NCC = new javax.swing.JButton();
        jLabel9 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        txtMaNCC_NCC = new javax.swing.JTextField();
        txtTenNCC_NCC = new javax.swing.JTextField();
        jScrollPane3 = new javax.swing.JScrollPane();
        tblNCC_NCC = new javax.swing.JTable();
        btnThem_NCC = new javax.swing.JButton();
        btnXoa_NCC = new javax.swing.JButton();
        btnSua_NCC = new javax.swing.JButton();
        jLabel19 = new javax.swing.JLabel();
        txtSDT_NCC = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        txtDiaChi_NCC = new javax.swing.JTextField();
        txtSearchBox_NCC = new javax.swing.JTextField();
        btnSearch_NCC = new javax.swing.JButton();
        pnlTaiKhoan = new javax.swing.JPanel();
        jLabel34 = new javax.swing.JLabel();
        jLabel35 = new javax.swing.JLabel();
        jLabel36 = new javax.swing.JLabel();
        jLabel37 = new javax.swing.JLabel();
        jLabel38 = new javax.swing.JLabel();
        txtTenDN_TK = new javax.swing.JTextField();
        txtMatKhau_TK = new javax.swing.JTextField();
        txtVaiTro_TK = new javax.swing.JTextField();
        cboNhanVien_TK = new javax.swing.JComboBox<>();
        jPanel3 = new javax.swing.JPanel();
        jScrollPane11 = new javax.swing.JScrollPane();
        tblTaiKhoan_TK = new javax.swing.JTable();
        btnThem_TK = new javax.swing.JButton();
        btnXoa_TK = new javax.swing.JButton();
        btnSua_TK = new javax.swing.JButton();
        btnLuu_TK = new javax.swing.JButton();
        jMenuBar1 = new javax.swing.JMenuBar();
        menuThoat = new javax.swing.JMenu();

        jMenuItem1.setText("jMenuItem1");

        jInternalFrame1.setVisible(true);

        javax.swing.GroupLayout jInternalFrame1Layout = new javax.swing.GroupLayout(jInternalFrame1.getContentPane());
        jInternalFrame1.getContentPane().setLayout(jInternalFrame1Layout);
        jInternalFrame1Layout.setHorizontalGroup(
            jInternalFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );
        jInternalFrame1Layout.setVerticalGroup(
            jInternalFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jPanel7.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel1.setBackground(new java.awt.Color(255, 204, 153));

        btnCuaHang.setBackground(new java.awt.Color(255, 153, 0));
        btnCuaHang.setText("Cửa Hàng");
        btnCuaHang.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCuaHangActionPerformed(evt);
            }
        });

        btnSanPham.setBackground(new java.awt.Color(255, 153, 0));
        btnSanPham.setText("Sản Phẩm");
        btnSanPham.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSanPhamActionPerformed(evt);
            }
        });

        btnHoaDon.setBackground(new java.awt.Color(255, 153, 0));
        btnHoaDon.setText("Hóa Đơn");
        btnHoaDon.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnHoaDonActionPerformed(evt);
            }
        });

        btnPhieuNhap.setBackground(new java.awt.Color(255, 153, 0));
        btnPhieuNhap.setText("Phiếu Nhập");
        btnPhieuNhap.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnPhieuNhapActionPerformed(evt);
            }
        });

        btnNhanVien.setBackground(new java.awt.Color(255, 153, 0));
        btnNhanVien.setText("Nhân Viên");
        btnNhanVien.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnNhanVienActionPerformed(evt);
            }
        });

        btnKhachHang.setBackground(new java.awt.Color(255, 153, 0));
        btnKhachHang.setText("Khách Hàng");
        btnKhachHang.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnKhachHangActionPerformed(evt);
            }
        });

        btnNhaCungCap.setBackground(new java.awt.Color(255, 153, 0));
        btnNhaCungCap.setText("Nhà Cung Cấp");
        btnNhaCungCap.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnNhaCungCapActionPerformed(evt);
            }
        });

        btnTaiKhoan.setBackground(new java.awt.Color(255, 153, 0));
        btnTaiKhoan.setText("Tài Khoản");
        btnTaiKhoan.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnTaiKhoanActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(btnCuaHang)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnSanPham)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnHoaDon)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnPhieuNhap)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnNhanVien)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnKhachHang)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnNhaCungCap)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnTaiKhoan)
                .addContainerGap(7, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(btnCuaHang, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                .addComponent(btnSanPham, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(btnHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(btnPhieuNhap, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(btnNhanVien, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(btnKhachHang, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(btnNhaCungCap, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(btnTaiKhoan, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        jPanel7.add(jPanel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 750, 40));

        pnlCuaHang.setBackground(new java.awt.Color(255, 255, 255));

        btnSearch_CH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/Search.png"))); // NOI18N
        btnSearch_CH.setText("Tìm kiếm");
        btnSearch_CH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSearch_CHActionPerformed(evt);
            }
        });

        txtSDT_CH.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtSDT_CHFocusLost(evt);
            }
        });

        jLabel2.setText("Số điện thoại:");

        jLabel3.setText("Tên khách hàng:");

        jLabel4.setText("Mã nhân viên:");

        jLabel5.setText("Ngày lập:");

        jLabel6.setText("Địa chỉ");

        jDateChooser1.setDateFormatString("dd-MM-yyyy");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel4)
                            .addComponent(jLabel5))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtMaNV_CH)
                            .addComponent(jDateChooser1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel3)
                            .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, 87, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(txtSDT_CH)
                            .addComponent(txtTenKH_CH, javax.swing.GroupLayout.PREFERRED_SIZE, 187, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel6)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(txtDiaChi_CH, javax.swing.GroupLayout.PREFERRED_SIZE, 187, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(txtSDT_CH, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(txtTenKH_CH, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtDiaChi_CH, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel6))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(txtMaNV_CH, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel5)
                    .addComponent(jDateChooser1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        tblSanPham_CH.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Mã", "Tên Sản Phẩm", "Đơn Giá", "Số Lượng"
            }
        ));
        tblSanPham_CH.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblSanPham_CHMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(tblSanPham_CH);

        tblHoaDon_CH.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "Mã", "Tên Sản Phẩm", "Số Lượng", "Đơn Giá", "Thành Tiền"
            }
        ));
        tblHoaDon_CH.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblHoaDon_CHMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(tblHoaDon_CH);

        jLabel1.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabel1.setText("Tổng tiền:");

        lbTongTien_CH.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        lbTongTien_CH.setText("...");

        btnThanhToan_CH.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        btnThanhToan_CH.setText("Thanh Toán");
        btnThanhToan_CH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnThanhToan_CHActionPerformed(evt);
            }
        });

        label.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        label.setText("Đơn giá:");

        jLabel10.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jLabel10.setText("Số lượng:");

        lbTenSP_CH.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        lbTenSP_CH.setText("Tên sản phẩm");

        lbDonGia_CH.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        lbDonGia_CH.setText(".....");

        btnThem_CH.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        btnThem_CH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/add.png"))); // NOI18N
        btnThem_CH.setText("Thêm");
        btnThem_CH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnThem_CHActionPerformed(evt);
            }
        });

        btnLamMoi_CH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Action-reload-icon.png"))); // NOI18N
        btnLamMoi_CH.setText("Làm mới");
        btnLamMoi_CH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLamMoi_CHActionPerformed(evt);
            }
        });

        btnXoa_CH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Action-cancel-icon.png"))); // NOI18N
        btnXoa_CH.setText("Xóa");
        btnXoa_CH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnXoa_CHActionPerformed(evt);
            }
        });

        btnSua_CH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Action-edit-icon.png"))); // NOI18N
        btnSua_CH.setText("Sửa");
        btnSua_CH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSua_CHActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlCuaHangLayout = new javax.swing.GroupLayout(pnlCuaHang);
        pnlCuaHang.setLayout(pnlCuaHangLayout);
        pnlCuaHangLayout.setHorizontalGroup(
            pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlCuaHangLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlCuaHangLayout.createSequentialGroup()
                        .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnlCuaHangLayout.createSequentialGroup()
                                .addComponent(txtSearchBox_CH, javax.swing.GroupLayout.PREFERRED_SIZE, 323, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(btnSearch_CH))
                            .addGroup(pnlCuaHangLayout.createSequentialGroup()
                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(pnlCuaHangLayout.createSequentialGroup()
                                        .addComponent(lbHinh_CH, javax.swing.GroupLayout.PREFERRED_SIZE, 148, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(18, 18, 18)
                                        .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                            .addComponent(label)
                                            .addGroup(pnlCuaHangLayout.createSequentialGroup()
                                                .addComponent(jLabel10)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(txtSoLuong_CH, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE))
                                            .addComponent(lbTenSP_CH)
                                            .addComponent(lbDonGia_CH)
                                            .addComponent(btnThem_CH, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(pnlCuaHangLayout.createSequentialGroup()
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 588, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnlCuaHangLayout.createSequentialGroup()
                                .addComponent(btnThanhToan_CH)
                                .addGap(26, 26, 26))
                            .addGroup(pnlCuaHangLayout.createSequentialGroup()
                                .addComponent(jLabel1)
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlCuaHangLayout.createSequentialGroup()
                                .addGap(0, 0, Short.MAX_VALUE)
                                .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(btnLamMoi_CH, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btnSua_CH, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btnXoa_CH, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addGap(45, 45, 45))
                            .addGroup(pnlCuaHangLayout.createSequentialGroup()
                                .addComponent(lbTongTien_CH, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())))))
        );
        pnlCuaHangLayout.setVerticalGroup(
            pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlCuaHangLayout.createSequentialGroup()
                .addGap(7, 7, 7)
                .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtSearchBox_CH, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnSearch_CH))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(pnlCuaHangLayout.createSequentialGroup()
                        .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbHinh_CH, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGroup(pnlCuaHangLayout.createSequentialGroup()
                                .addGap(16, 16, 16)
                                .addComponent(lbTenSP_CH)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(label)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(lbDonGia_CH)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel10)
                                    .addComponent(txtSoLuong_CH, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(32, 32, 32)
                                .addComponent(btnThem_CH)
                                .addGap(0, 9, Short.MAX_VALUE)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlCuaHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(pnlCuaHangLayout.createSequentialGroup()
                        .addComponent(btnLamMoi_CH)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnSua_CH)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnXoa_CH)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(lbTongTien_CH)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnThanhToan_CH))
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jTabbedPane.addTab("tab1", pnlCuaHang);

        jLabel8.setText("Đơn giá:");

        jLabel11.setText("Hình ảnh sản phẩm:");

        jLabel12.setText("Mô tả:");

        btnMoHinh_SP.setText("Mở hình");
        btnMoHinh_SP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnMoHinh_SPActionPerformed(evt);
            }
        });

        txtMoTa_SP.setColumns(20);
        txtMoTa_SP.setRows(5);
        jScrollPane6.setViewportView(txtMoTa_SP);

        tblSanPham_SP.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null}
            },
            new String [] {
                "Mã hàng", "Tên hàng", "Nhà cung cấp", "Số lượng", "Đơn giá", "Mô tả", "Hình "
            }
        ));
        tblSanPham_SP.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblSanPham_SPMouseClicked(evt);
            }
        });
        jScrollPane7.setViewportView(tblSanPham_SP);

        jLabel13.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabel13.setForeground(new java.awt.Color(0, 0, 204));
        jLabel13.setText("DANH MỤC HÀNG HOÁ");

        jLabel15.setText("Tên hàng:");

        jLabel16.setText("Mã nhà cc:");

        jLabel17.setText("Số lượng:");

        btnNhapMoi_SP.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/Sửa.jpg"))); // NOI18N
        btnNhapMoi_SP.setText("Nhập mới");
        btnNhapMoi_SP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnNhapMoi_SPActionPerformed(evt);
            }
        });

        btnThem_SP.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/add.png"))); // NOI18N
        btnThem_SP.setText("Thêm");
        btnThem_SP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnThem_SPActionPerformed(evt);
            }
        });

        btnXoa_SP.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/delete.png"))); // NOI18N
        btnXoa_SP.setText("Xoá");
        btnXoa_SP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnXoa_SPActionPerformed(evt);
            }
        });

        btnSua_SP.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Actions-document-edit-icon.png"))); // NOI18N
        btnSua_SP.setText("Sửa");
        btnSua_SP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSua_SPActionPerformed(evt);
            }
        });

        jLabel21.setText("Mã hàng:");

        txtMaSP_SP.setEnabled(false);

        btnSearch_SP.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/Search.png"))); // NOI18N
        btnSearch_SP.setText("Tìm kiếm");
        btnSearch_SP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSearch_SPActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlSanPhamLayout = new javax.swing.GroupLayout(pnlSanPham);
        pnlSanPham.setLayout(pnlSanPhamLayout);
        pnlSanPhamLayout.setHorizontalGroup(
            pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlSanPhamLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlSanPhamLayout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel21, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, pnlSanPhamLayout.createSequentialGroup()
                                .addGap(8, 8, 8)
                                .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel17)
                                    .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(jLabel12)
                                        .addComponent(jLabel8)))))
                        .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(pnlSanPhamLayout.createSequentialGroup()
                                .addGap(6, 6, 6)
                                .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jScrollPane6)
                                    .addComponent(txtDonGia_SP, javax.swing.GroupLayout.DEFAULT_SIZE, 293, Short.MAX_VALUE)))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlSanPhamLayout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(txtSoLuong_SP, javax.swing.GroupLayout.PREFERRED_SIZE, 293, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(pnlSanPhamLayout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtSearchBox_SP)
                                    .addComponent(txtMaSP_SP)))))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlSanPhamLayout.createSequentialGroup()
                        .addComponent(jLabel16)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(cboNCC_SP, javax.swing.GroupLayout.PREFERRED_SIZE, 293, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlSanPhamLayout.createSequentialGroup()
                        .addComponent(jLabel15)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(txtTenSP_SP, javax.swing.GroupLayout.PREFERRED_SIZE, 293, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlSanPhamLayout.createSequentialGroup()
                        .addGap(58, 58, 58)
                        .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel11)
                            .addComponent(btnMoHinh_SP)
                            .addComponent(lbHinh_SP, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(pnlSanPhamLayout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnSearch_SP)))
                .addGap(172, 172, 172))
            .addGroup(pnlSanPhamLayout.createSequentialGroup()
                .addGap(282, 282, 282)
                .addComponent(jLabel13)
                .addGap(87, 87, 87))
            .addGroup(pnlSanPhamLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane7)
                .addContainerGap())
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlSanPhamLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(btnNhapMoi_SP)
                .addGap(29, 29, 29)
                .addComponent(btnThem_SP)
                .addGap(39, 39, 39)
                .addComponent(btnXoa_SP)
                .addGap(38, 38, 38)
                .addComponent(btnSua_SP)
                .addGap(147, 147, 147))
        );
        pnlSanPhamLayout.setVerticalGroup(
            pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlSanPhamLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel13)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtSearchBox_SP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnSearch_SP))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel21)
                    .addComponent(txtMaSP_SP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel11))
                .addGap(18, 18, 18)
                .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlSanPhamLayout.createSequentialGroup()
                        .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtTenSP_SP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel15))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(cboNCC_SP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel16))
                        .addGap(18, 18, 18)
                        .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtSoLuong_SP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel17))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel8)
                            .addComponent(txtDonGia_SP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(21, 21, 21))
                    .addGroup(pnlSanPhamLayout.createSequentialGroup()
                        .addComponent(lbHinh_SP, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jScrollPane6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel12))
                    .addGroup(pnlSanPhamLayout.createSequentialGroup()
                        .addComponent(btnMoHinh_SP)
                        .addGap(38, 38, 38)))
                .addGap(30, 30, 30)
                .addComponent(jScrollPane7, javax.swing.GroupLayout.PREFERRED_SIZE, 132, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(28, 28, 28)
                .addGroup(pnlSanPhamLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnNhapMoi_SP, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnThem_SP, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnXoa_SP, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnSua_SP, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(44, 44, 44))
        );

        jTabbedPane.addTab("tab2", pnlSanPham);

        jLabel30.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabel30.setForeground(new java.awt.Color(0, 0, 204));
        jLabel30.setText("DANH MỤC HÀNG HOÁ");

        jLabel31.setText("Mã hóa đơn:");

        btnSearch_HD.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/Search.png"))); // NOI18N
        btnSearch_HD.setText("Tìm kiếm");
        btnSearch_HD.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSearch_HDActionPerformed(evt);
            }
        });

        jDateChooser2.setDateFormatString("dd-MM-yyyy");

        jLabel32.setText("Từ ngày:");

        jLabel33.setText("Đến ngày:");

        tblHoaDon_HD.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "Mã hóa đơn", "Tên khách hàng", "Tên nhân viên", "Ngày lập", "Tổng tiền"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPane4.setViewportView(tblHoaDon_HD);

        btnShowDetail_HD.setText("Xem chi tiết");
        btnShowDetail_HD.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnShowDetail_HDActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlHoaDonLayout = new javax.swing.GroupLayout(pnlHoaDon);
        pnlHoaDon.setLayout(pnlHoaDonLayout);
        pnlHoaDonLayout.setHorizontalGroup(
            pnlHoaDonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlHoaDonLayout.createSequentialGroup()
                .addGroup(pnlHoaDonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlHoaDonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, pnlHoaDonLayout.createSequentialGroup()
                            .addContainerGap()
                            .addComponent(jScrollPane4))
                        .addGroup(pnlHoaDonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnlHoaDonLayout.createSequentialGroup()
                                .addGap(288, 288, 288)
                                .addComponent(jLabel30))
                            .addGroup(pnlHoaDonLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jLabel31)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(txtMaHD_HD, javax.swing.GroupLayout.PREFERRED_SIZE, 97, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(btnSearch_HD)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel32)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jDateChooser2, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel33)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jDateChooser3, javax.swing.GroupLayout.PREFERRED_SIZE, 132, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(pnlHoaDonLayout.createSequentialGroup()
                        .addGap(312, 312, 312)
                        .addComponent(btnShowDetail_HD)))
                .addContainerGap(61, Short.MAX_VALUE))
        );
        pnlHoaDonLayout.setVerticalGroup(
            pnlHoaDonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlHoaDonLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlHoaDonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jDateChooser3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(pnlHoaDonLayout.createSequentialGroup()
                        .addComponent(jLabel30)
                        .addGap(12, 12, 12)
                        .addGroup(pnlHoaDonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(pnlHoaDonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(jLabel31)
                                .addComponent(txtMaHD_HD, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(btnSearch_HD)
                                .addComponent(jLabel32))
                            .addComponent(jDateChooser2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel33))))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 188, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(btnShowDetail_HD)
                .addContainerGap(309, Short.MAX_VALUE))
        );

        jTabbedPane.addTab("tab3", pnlHoaDon);

        javax.swing.GroupLayout pnlPhieuNhapLayout = new javax.swing.GroupLayout(pnlPhieuNhap);
        pnlPhieuNhap.setLayout(pnlPhieuNhapLayout);
        pnlPhieuNhapLayout.setHorizontalGroup(
            pnlPhieuNhapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 760, Short.MAX_VALUE)
        );
        pnlPhieuNhapLayout.setVerticalGroup(
            pnlPhieuNhapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 617, Short.MAX_VALUE)
        );

        jTabbedPane.addTab("tab4", pnlPhieuNhap);

        jLabel7.setFont(new java.awt.Font("Segoe UI", 3, 18)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(51, 0, 204));
        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel7.setText("Quản Lý Nhân Viên");
        jLabel7.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);

        btn_Them_NV.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        btn_Them_NV.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/add.png"))); // NOI18N
        btn_Them_NV.setText("Thêm");
        btn_Them_NV.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 0, 51)));
        btn_Them_NV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Them_NVActionPerformed(evt);
            }
        });

        btn_Xoa_NV.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        btn_Xoa_NV.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/delete.png"))); // NOI18N
        btn_Xoa_NV.setText("Xóa");
        btn_Xoa_NV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Xoa_NVActionPerformed(evt);
            }
        });

        btn_Sua_NV.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        btn_Sua_NV.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Action-edit-icon.png"))); // NOI18N
        btn_Sua_NV.setText("Sửa");
        btn_Sua_NV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Sua_NVActionPerformed(evt);
            }
        });

        btn_NhapMoi_NV.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        btn_NhapMoi_NV.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Action-file-new-icon.png"))); // NOI18N
        btn_NhapMoi_NV.setText("Nhập mới");
        btn_NhapMoi_NV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_NhapMoi_NVActionPerformed(evt);
            }
        });

        tbl_NhanVien_NV1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "Mã nhân viên", "Tên Nhân viên", "Email", "Số điện thoại", "Địa chỉ"
            }
        ));
        tbl_NhanVien_NV1.setSelectionBackground(new java.awt.Color(255, 0, 255));
        tbl_NhanVien_NV1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tbl_NhanVien_NV1MouseClicked(evt);
            }
        });
        jScrollPane5.setViewportView(tbl_NhanVien_NV1);

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addComponent(jScrollPane5, javax.swing.GroupLayout.DEFAULT_SIZE, 742, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane5, javax.swing.GroupLayout.DEFAULT_SIZE, 157, Short.MAX_VALUE)
                .addContainerGap())
        );

        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Tìm kiếm", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.TOP, new java.awt.Font("Segoe UI", 1, 14))); // NOI18N

        btn_Search_NV.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        btn_Search_NV.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/Search.png"))); // NOI18N
        btn_Search_NV.setText("Tìm");
        btn_Search_NV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Search_NVActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addComponent(txt_Search_NV, javax.swing.GroupLayout.PREFERRED_SIZE, 279, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 26, Short.MAX_VALUE)
                .addComponent(btn_Search_NV)
                .addGap(41, 41, 41))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txt_Search_NV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_Search_NV))
                .addContainerGap(29, Short.MAX_VALUE))
        );

        btn_Reload_NV.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        btn_Reload_NV.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Actions-view-refresh-icon.png"))); // NOI18N
        btn_Reload_NV.setText("ReLoad");
        btn_Reload_NV.setBorder(javax.swing.BorderFactory.createCompoundBorder(null, javax.swing.BorderFactory.createMatteBorder(1, 1, 1, 1, new java.awt.Color(255, 0, 0))));
        btn_Reload_NV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Reload_NVActionPerformed(evt);
            }
        });

        jPanel6.setBackground(new java.awt.Color(255, 255, 255));
        jPanel6.setBorder(javax.swing.BorderFactory.createCompoundBorder(null, javax.swing.BorderFactory.createMatteBorder(1, 1, 1, 1, new java.awt.Color(0, 153, 153))));

        jLabel22.setText("Tên Nhân Viên:");

        jLabel23.setText("Email:");

        jLabel24.setText("SĐT");

        jLabel25.setText("Địa chỉ:");

        Tar_DiaChi_NV.setColumns(20);
        Tar_DiaChi_NV.setRows(5);
        jScrollPane8.setViewportView(Tar_DiaChi_NV);

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 91, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel23, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(txt_TenNV_NV)
                    .addComponent(txt_Email_NV, javax.swing.GroupLayout.DEFAULT_SIZE, 179, Short.MAX_VALUE))
                .addGap(33, 33, 33)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel25, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel24, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txt_SDT_NV)
                    .addComponent(jScrollPane8, javax.swing.GroupLayout.DEFAULT_SIZE, 292, Short.MAX_VALUE)))
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel22)
                    .addComponent(jLabel24)
                    .addComponent(txt_TenNV_NV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_SDT_NV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel23)
                            .addComponent(txt_Email_NV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(30, 30, 30)
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jScrollPane8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel25))
                        .addGap(0, 22, Short.MAX_VALUE))))
        );

        javax.swing.GroupLayout pnlNhanVienLayout = new javax.swing.GroupLayout(pnlNhanVien);
        pnlNhanVien.setLayout(pnlNhanVienLayout);
        pnlNhanVienLayout.setHorizontalGroup(
            pnlNhanVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlNhanVienLayout.createSequentialGroup()
                .addGroup(pnlNhanVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlNhanVienLayout.createSequentialGroup()
                        .addGroup(pnlNhanVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnlNhanVienLayout.createSequentialGroup()
                                .addGap(253, 253, 253)
                                .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 179, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(34, 34, 34)
                        .addComponent(btn_Reload_NV, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(pnlNhanVienLayout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(pnlNhanVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGroup(pnlNhanVienLayout.createSequentialGroup()
                                .addGroup(pnlNhanVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(pnlNhanVienLayout.createSequentialGroup()
                                        .addComponent(btn_Them_NV, javax.swing.GroupLayout.PREFERRED_SIZE, 67, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(37, 37, 37)
                                        .addComponent(btn_Xoa_NV)
                                        .addGap(42, 42, 42)
                                        .addComponent(btn_Sua_NV)
                                        .addGap(42, 42, 42)
                                        .addComponent(btn_NhapMoi_NV))
                                    .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(0, 0, Short.MAX_VALUE)))))
                .addContainerGap())
        );
        pnlNhanVienLayout.setVerticalGroup(
            pnlNhanVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlNhanVienLayout.createSequentialGroup()
                .addComponent(jLabel7)
                .addGroup(pnlNhanVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlNhanVienLayout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(pnlNhanVienLayout.createSequentialGroup()
                        .addGap(19, 19, 19)
                        .addComponent(btn_Reload_NV, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlNhanVienLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(btn_Xoa_NV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btn_NhapMoi_NV)
                    .addComponent(btn_Sua_NV)
                    .addComponent(btn_Them_NV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(1, 1, 1)
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(110, Short.MAX_VALUE))
        );

        jTabbedPane.addTab("tab5", pnlNhanVien);

        jLabel26.setFont(new java.awt.Font("Segoe UI", 3, 18)); // NOI18N
        jLabel26.setForeground(new java.awt.Color(0, 0, 204));
        jLabel26.setText("QUẢN LÝ KHÁCH HÀNG");

        tbl_khachHang_KH.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        tbl_khachHang_KH.setSelectionBackground(new java.awt.Color(20, 160, 107));
        tbl_khachHang_KH.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tbl_khachHang_KHMouseClicked(evt);
            }
        });
        jScrollPane9.setViewportView(tbl_khachHang_KH);

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 933, Short.MAX_VALUE)
            .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel8Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(jScrollPane9, javax.swing.GroupLayout.PREFERRED_SIZE, 763, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(164, Short.MAX_VALUE)))
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 162, Short.MAX_VALUE)
            .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel8Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(jScrollPane9, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );

        jPanel9.setBackground(new java.awt.Color(255, 255, 255));
        jPanel9.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 0, 51), 1, true));

        jLabel27.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabel27.setText("Địa chỉ: ");

        jLabel28.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabel28.setText("Số điện thoại:");

        jLabel29.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabel29.setText("Tên Khách Hàng:");

        Tar_DiaChi_KH.setColumns(20);
        Tar_DiaChi_KH.setRows(5);
        jScrollPane10.setViewportView(Tar_DiaChi_KH);

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel28, javax.swing.GroupLayout.PREFERRED_SIZE, 102, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel29, javax.swing.GroupLayout.PREFERRED_SIZE, 127, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel27, javax.swing.GroupLayout.PREFERRED_SIZE, 89, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 20, Short.MAX_VALUE)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addComponent(jScrollPane10, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                        .addContainerGap())
                    .addComponent(txt_TenKH_KH, javax.swing.GroupLayout.DEFAULT_SIZE, 191, Short.MAX_VALUE)
                    .addComponent(txt_SDT_KH)))
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel29)
                    .addComponent(txt_TenKH_KH, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel28)
                    .addComponent(txt_SDT_KH, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel27)
                    .addComponent(jScrollPane10, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(32, 32, 32))
        );

        jPanel10.setBackground(new java.awt.Color(255, 255, 255));
        jPanel10.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Tìm kiếm", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 1, 14))); // NOI18N

        btnSearch_KH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/Search.png"))); // NOI18N
        btnSearch_KH.setText("Tìm");
        btnSearch_KH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSearch_KHActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel10Layout = new javax.swing.GroupLayout(jPanel10);
        jPanel10.setLayout(jPanel10Layout);
        jPanel10Layout.setHorizontalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addComponent(txt_Search_KH, javax.swing.GroupLayout.DEFAULT_SIZE, 192, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnSearch_KH, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel10Layout.setVerticalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txt_Search_KH, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnSearch_KH))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        btn_Them_KH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/add.png"))); // NOI18N
        btn_Them_KH.setText("Thêm");
        btn_Them_KH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Them_KHActionPerformed(evt);
            }
        });

        btn_Xoa_KH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/delete.png"))); // NOI18N
        btn_Xoa_KH.setText("Xóa");
        btn_Xoa_KH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Xoa_KHActionPerformed(evt);
            }
        });

        btn_Sua_KH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Action-edit-icon.png"))); // NOI18N
        btn_Sua_KH.setText("Sửa");
        btn_Sua_KH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Sua_KHActionPerformed(evt);
            }
        });

        btn_NhapMoi_KH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Action-file-new-icon.png"))); // NOI18N
        btn_NhapMoi_KH.setText("Nhập mới");
        btn_NhapMoi_KH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_NhapMoi_KHActionPerformed(evt);
            }
        });

        btn_Reload_KH.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Actions-view-refresh-icon.png"))); // NOI18N
        btn_Reload_KH.setText("Reload");
        btn_Reload_KH.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Reload_KHActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlKhachHangLayout = new javax.swing.GroupLayout(pnlKhachHang);
        pnlKhachHang.setLayout(pnlKhachHangLayout);
        pnlKhachHangLayout.setHorizontalGroup(
            pnlKhachHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel8, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(pnlKhachHangLayout.createSequentialGroup()
                .addGroup(pnlKhachHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlKhachHangLayout.createSequentialGroup()
                        .addGap(36, 36, 36)
                        .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(66, 66, 66)
                        .addGroup(pnlKhachHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jPanel10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(btn_Reload_KH)))
                    .addGroup(pnlKhachHangLayout.createSequentialGroup()
                        .addGap(263, 263, 263)
                        .addComponent(jLabel26, javax.swing.GroupLayout.PREFERRED_SIZE, 236, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(pnlKhachHangLayout.createSequentialGroup()
                        .addGap(129, 129, 129)
                        .addComponent(btn_Them_KH, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(54, 54, 54)
                        .addComponent(btn_Xoa_KH, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(50, 50, 50)
                        .addComponent(btn_Sua_KH, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(52, 52, 52)
                        .addComponent(btn_NhapMoi_KH)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        pnlKhachHangLayout.setVerticalGroup(
            pnlKhachHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlKhachHangLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel26)
                .addGap(35, 35, 35)
                .addGroup(pnlKhachHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(pnlKhachHangLayout.createSequentialGroup()
                        .addComponent(jPanel10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(btn_Reload_KH, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 138, Short.MAX_VALUE)
                .addGroup(pnlKhachHangLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btn_Them_KH, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_Xoa_KH, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_Sua_KH, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_NhapMoi_KH, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(54, 54, 54))
        );

        jTabbedPane.addTab("tab6", pnlKhachHang);

        btnNhapMoi_NCC.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/lưu.jpg"))); // NOI18N
        btnNhapMoi_NCC.setText("Nhập mới");
        btnNhapMoi_NCC.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnNhapMoi_NCCActionPerformed(evt);
            }
        });

        jLabel9.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(0, 0, 204));
        jLabel9.setText("DANH MỤC NHÀ CUNG CẤP");

        jLabel14.setText("Mã nhà cung cấp:");

        jLabel18.setText("Tên nhà cung cấp:");

        txtMaNCC_NCC.setEnabled(false);

        tblNCC_NCC.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Mã nhà cung cấp", "Tên nhà cung cấp", "Số điên thoại", "Địa chỉ"
            }
        ));
        tblNCC_NCC.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblNCC_NCCMouseClicked(evt);
            }
        });
        jScrollPane3.setViewportView(tblNCC_NCC);

        btnThem_NCC.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/add.png"))); // NOI18N
        btnThem_NCC.setText("Thêm");
        btnThem_NCC.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnThem_NCCActionPerformed(evt);
            }
        });

        btnXoa_NCC.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/delete.png"))); // NOI18N
        btnXoa_NCC.setText("Xoá");
        btnXoa_NCC.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnXoa_NCCActionPerformed(evt);
            }
        });

        btnSua_NCC.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Actions-document-edit-icon.png"))); // NOI18N
        btnSua_NCC.setText("Sửa");
        btnSua_NCC.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSua_NCCActionPerformed(evt);
            }
        });

        jLabel19.setText("Số điện thoại:");

        jLabel20.setText("Địa chỉ:");

        btnSearch_NCC.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icon/Search.png"))); // NOI18N
        btnSearch_NCC.setText("Tìm kiếm");
        btnSearch_NCC.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSearch_NCCActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlNhaCungCapLayout = new javax.swing.GroupLayout(pnlNhaCungCap);
        pnlNhaCungCap.setLayout(pnlNhaCungCapLayout);
        pnlNhaCungCapLayout.setHorizontalGroup(
            pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlNhaCungCapLayout.createSequentialGroup()
                .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlNhaCungCapLayout.createSequentialGroup()
                        .addGap(88, 88, 88)
                        .addComponent(btnThem_NCC)
                        .addGap(27, 27, 27)
                        .addComponent(btnXoa_NCC)
                        .addGap(31, 31, 31)
                        .addComponent(btnSua_NCC)
                        .addGap(42, 42, 42)
                        .addComponent(btnNhapMoi_NCC))
                    .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, pnlNhaCungCapLayout.createSequentialGroup()
                            .addGap(66, 66, 66)
                            .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(pnlNhaCungCapLayout.createSequentialGroup()
                                    .addGap(183, 183, 183)
                                    .addComponent(jLabel9)
                                    .addGap(160, 160, 160))
                                .addGroup(pnlNhaCungCapLayout.createSequentialGroup()
                                    .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jLabel14)
                                        .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                            .addComponent(jLabel19)
                                            .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jLabel18)))
                                    .addGap(31, 31, 31)
                                    .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                            .addComponent(txtMaNCC_NCC, javax.swing.GroupLayout.DEFAULT_SIZE, 261, Short.MAX_VALUE)
                                            .addComponent(txtTenNCC_NCC)
                                            .addComponent(txtSDT_NCC)
                                            .addComponent(txtDiaChi_NCC))
                                        .addGroup(pnlNhaCungCapLayout.createSequentialGroup()
                                            .addComponent(txtSearchBox_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, 323, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(btnSearch_NCC))))))
                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, pnlNhaCungCapLayout.createSequentialGroup()
                            .addGap(32, 32, 32)
                            .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 616, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(112, Short.MAX_VALUE))
        );
        pnlNhaCungCapLayout.setVerticalGroup(
            pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlNhaCungCapLayout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addComponent(jLabel9)
                .addGap(18, 18, 18)
                .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtSearchBox_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnSearch_NCC))
                .addGap(10, 10, 10)
                .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel14)
                    .addComponent(txtMaNCC_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(15, 15, 15)
                .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtTenNCC_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel18))
                .addGap(18, 18, 18)
                .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtSDT_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel19))
                .addGap(18, 18, 18)
                .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtDiaChi_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel20))
                .addGap(37, 37, 37)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(38, 38, 38)
                .addGroup(pnlNhaCungCapLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnThem_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnXoa_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnSua_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnNhapMoi_NCC, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(120, Short.MAX_VALUE))
        );

        jTabbedPane.addTab("tab7", pnlNhaCungCap);

        jLabel34.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel34.setText("QUẢN LÍ TÀI KHOẢN");

        jLabel35.setText("Tên đăng nhập: ");

        jLabel36.setText("Mật khẩu:");

        jLabel37.setText("Vai trò: ");

        jLabel38.setText("Nhân viên: ");

        cboNhanVien_TK.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        tblTaiKhoan_TK.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Tên đăng nhập", "Mật khẩu", "Vai trò", "Nhân viên"
            }
        ));
        tblTaiKhoan_TK.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblTaiKhoan_TKMouseClicked(evt);
            }
        });
        jScrollPane11.setViewportView(tblTaiKhoan_TK);

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addComponent(jScrollPane11, javax.swing.GroupLayout.PREFERRED_SIZE, 580, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 19, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addComponent(jScrollPane11, javax.swing.GroupLayout.PREFERRED_SIZE, 191, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 17, Short.MAX_VALUE))
        );

        btnThem_TK.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Actions-document-new-icon.png"))); // NOI18N
        btnThem_TK.setText("Thêm");
        btnThem_TK.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnThem_TKActionPerformed(evt);
            }
        });

        btnXoa_TK.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Action-cancel-icon.png"))); // NOI18N
        btnXoa_TK.setText("Xóa");
        btnXoa_TK.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnXoa_TKActionPerformed(evt);
            }
        });

        btnSua_TK.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Action-edit-icon.png"))); // NOI18N
        btnSua_TK.setText("Sửa");
        btnSua_TK.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSua_TKActionPerformed(evt);
            }
        });

        btnLuu_TK.setIcon(new javax.swing.ImageIcon(getClass().getResource("/GUI/Icons_baiOnTap/Action-file-new-icon.png"))); // NOI18N
        btnLuu_TK.setText("Lưu");
        btnLuu_TK.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLuu_TKActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlTaiKhoanLayout = new javax.swing.GroupLayout(pnlTaiKhoan);
        pnlTaiKhoan.setLayout(pnlTaiKhoanLayout);
        pnlTaiKhoanLayout.setHorizontalGroup(
            pnlTaiKhoanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlTaiKhoanLayout.createSequentialGroup()
                .addGap(75, 75, 75)
                .addGroup(pnlTaiKhoanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlTaiKhoanLayout.createSequentialGroup()
                        .addGap(198, 198, 198)
                        .addComponent(jLabel34))
                    .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(pnlTaiKhoanLayout.createSequentialGroup()
                        .addGroup(pnlTaiKhoanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel35, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel36, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(16, 16, 16)
                        .addGroup(pnlTaiKhoanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtMatKhau_TK, javax.swing.GroupLayout.PREFERRED_SIZE, 163, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtTenDN_TK, javax.swing.GroupLayout.PREFERRED_SIZE, 163, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(65, 65, 65)
                        .addGroup(pnlTaiKhoanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel37, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel38, javax.swing.GroupLayout.PREFERRED_SIZE, 67, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnlTaiKhoanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(txtVaiTro_TK)
                            .addComponent(cboNhanVien_TK, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(pnlTaiKhoanLayout.createSequentialGroup()
                        .addGap(83, 83, 83)
                        .addComponent(btnThem_TK)
                        .addGap(41, 41, 41)
                        .addComponent(btnXoa_TK)
                        .addGap(40, 40, 40)
                        .addComponent(btnSua_TK)
                        .addGap(53, 53, 53)
                        .addComponent(btnLuu_TK)))
                .addContainerGap(86, Short.MAX_VALUE))
        );
        pnlTaiKhoanLayout.setVerticalGroup(
            pnlTaiKhoanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlTaiKhoanLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel34)
                .addGap(32, 32, 32)
                .addGroup(pnlTaiKhoanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel35)
                    .addComponent(jLabel37)
                    .addComponent(txtTenDN_TK, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtVaiTro_TK, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(24, 24, 24)
                .addGroup(pnlTaiKhoanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel36)
                    .addComponent(jLabel38)
                    .addComponent(txtMatKhau_TK, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cboNhanVien_TK, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(60, 60, 60)
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlTaiKhoanLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnThem_TK)
                    .addComponent(btnXoa_TK)
                    .addComponent(btnSua_TK)
                    .addComponent(btnLuu_TK))
                .addContainerGap(181, Short.MAX_VALUE))
        );

        jTabbedPane.addTab("tab8", pnlTaiKhoan);

        jPanel7.add(jTabbedPane, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 10, 760, -1));

        menuThoat.setText("Đăng xuất");
        menuThoat.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                menuThoatMouseClicked(evt);
            }
        });
        jMenuBar1.add(menuThoat);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, 760, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private boolean checkUserRole(String roleToCheck) {
       if (userRole != null && userRole.equals(roleToCheck)) {
            return true;
        }
        return false;
    }
    
    private void menuThoatMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_menuThoatMouseClicked
        // TODO add your handling code here:
        frm_DangNhap frmDangNhap = new frm_DangNhap();
        frmDangNhap.setVisible(true);
        this.dispose(); 
    }//GEN-LAST:event_menuThoatMouseClicked

    private void btnNhaCungCapActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnNhaCungCapActionPerformed
        // TODO add your handling code here:
        jTabbedPane.setSelectedIndex(6);
        
    }//GEN-LAST:event_btnNhaCungCapActionPerformed

    private void btnTaiKhoanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnTaiKhoanActionPerformed
        // TODO add your handling code here:
        if (checkUserRole("admin")) {
        // Mở màn hình Danh mục hàng hóa
//            openDanhMucHangHoa();
            jTabbedPane.setSelectedIndex(7);
            loadCboNhanVien();
        } else {
            JOptionPane.showMessageDialog(this, "Chỉ có tài khoản Admin mới có thể truy cập vào Danh mục hàng hóa.");
        }
        
    }//GEN-LAST:event_btnTaiKhoanActionPerformed

    private void btnCuaHangActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCuaHangActionPerformed
        // TODO add your handling code here:
        jTabbedPane.setSelectedIndex(0);
    }//GEN-LAST:event_btnCuaHangActionPerformed

    private void btnSanPhamActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSanPhamActionPerformed
        // TODO add your handling code here:
        jTabbedPane.setSelectedIndex(1);
    }//GEN-LAST:event_btnSanPhamActionPerformed

    private void btnHoaDonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnHoaDonActionPerformed
        // TODO add your handling code here:
        jTabbedPane.setSelectedIndex(2);
        loadHoaDon();
        fillDataToTableHD();
    }//GEN-LAST:event_btnHoaDonActionPerformed

    private void btnPhieuNhapActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnPhieuNhapActionPerformed
        // TODO add your handling code here:
        jTabbedPane.setSelectedIndex(3);
    }//GEN-LAST:event_btnPhieuNhapActionPerformed

    private void btnNhanVienActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnNhanVienActionPerformed
        // TODO add your handling code here:
        if (checkUserRole("admin")) {
            jTabbedPane.setSelectedIndex(4);
            loadCboNhanVien();
        } else {
            JOptionPane.showMessageDialog(this, "Chỉ có tài khoản Admin mới có thể truy cập vào Danh mục hàng hóa.");
        }
    }//GEN-LAST:event_btnNhanVienActionPerformed

    private void btnKhachHangActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnKhachHangActionPerformed
        // TODO add your handling code here:
        jTabbedPane.setSelectedIndex(5);
    }//GEN-LAST:event_btnKhachHangActionPerformed

    private void btnNhapMoi_SPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnNhapMoi_SPActionPerformed
        // TODO add your handling code here:
        txtTenSP_SP.setText("");
        txtSoLuong_SP.setText("");
        txtDonGia_SP.setText("");
        txtMoTa_SP.setText("");
        lbHinh_SP.setText("");
    }//GEN-LAST:event_btnNhapMoi_SPActionPerformed

    private void btnThem_SPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnThem_SPActionPerformed
        // TODO add your handling code here:
        try {
            SanPham sp = new SanPham();
            sp.setTenSP(txtTenSP_SP.getText());
            NhaCungCap ncc = listNCC.get(cboNCC_SP.getSelectedIndex());
            sp.setMaNCC(ncc.getMaNCC());
            sp.setSoLuong(Integer.parseInt(txtSoLuong_SP.getText()));
            sp.setDonGia(Double.parseDouble(txtDonGia_SP.getText()));
            sp.setMoTa(txtMoTa_SP.getText());
            if(imgPath.isEmpty()){
                    sp.setHinhSP("avatar1.jpg");
                } else {
                    sp.setHinhSP(imgPath);
                }

            SanPhamDAO dao = new SanPhamDAO(); 
            if (dao.themSanPham(sp)) {
                JOptionPane.showMessageDialog(this, "Sản phẩm đã được thêm", "Thông báo", JOptionPane.INFORMATION_MESSAGE);
                loadSanPham();
                fillDataToTable();
            } else {
                JOptionPane.showMessageDialog(this, "Lỗi khi thêm sản phẩm", "Thông báo", JOptionPane.ERROR_MESSAGE);
            }
        } catch (Exception e) {
            e.printStackTrace();
            JOptionPane.showMessageDialog(this, "Lỗi: " + e.getMessage(), "Thông báo", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_btnThem_SPActionPerformed

    private void btnXoa_SPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnXoa_SPActionPerformed
        // TODO add your handling code here:
//        try{
//            int row = tblDanhMucHH.getSelectedRow();
//            if (row == -1) {
//                JOptionPane.showMessageDialog(this, "Vui lòng chọn một hàng hóa để xóa.", "Thông báo", JOptionPane.WARNING_MESSAGE);
//                return;
//            }
//            HangHoaDAO dao = new HangHoaDAO();
//            if(dao.xoaHangHoa(txtMaHang.getText())){
//                JOptionPane.showMessageDialog(this, "Hang hoa da xoa","Thong bao", JOptionPane.INFORMATION_MESSAGE);
//                fillDataToTable();
//            } else {
//                JOptionPane.showMessageDialog(this, "Loi xoa hang hoa","Thong bao", JOptionPane.INFORMATION_MESSAGE);
//            }
//        } catch(Exception e){
//            e.printStackTrace();
//        }
    }//GEN-LAST:event_btnXoa_SPActionPerformed

    private void btnSua_SPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSua_SPActionPerformed
        // TODO add your handling code here:
//        try {
//            int row = tblDanhMucHH.getSelectedRow();
//            if (row == -1) {
//                JOptionPane.showMessageDialog(this, "Vui lòng chọn một hàng hóa để sửa.", "Thông báo", JOptionPane.WARNING_MESSAGE);
//                return;
//            }
//
//            int maHang = Integer.parseInt(txtMaHang.getText());
//            String tenHang = txtTenHang.getText();
//            int maNCC = listNCC.get(cboMaNhaCC.getSelectedIndex()).getMANCC();
//            int soLuong = Integer.parseInt(txtSoLuong.getText());
//            double donGiaNhap = Double.parseDouble(txtDonGiaNhap.getText());
//            double donGiaBan = Double.parseDouble(txtDonGiaBan.getText());
//            String ghiChu = txtGhiChu.getText();
//
//            // Kiểm tra xem đã chọn hình ảnh mới hay chưa
//            String newImgPath = imgPath;
//            if (!imgPath.isEmpty()) {
//                newImgPath = imgPath;
//            }
//            SanPham hh = new SanPham(maHang, tenHang, maNCC, soLuong, donGiaNhap, donGiaBan, newImgPath, ghiChu);
//            HangHoaDAO dao = new HangHoaDAO();
//            if (dao.suaHangHoa(hh)) {
//                JOptionPane.showMessageDialog(this, "Đã cập nhật thông tin hàng hóa thành công.", "Thông báo", JOptionPane.INFORMATION_MESSAGE);
//                fillDataToTable(); // Cập nhật lại dữ liệu trên bảng
//            } else {
//                JOptionPane.showMessageDialog(this, "Lỗi khi cập nhật thông tin hàng hóa.", "Thông báo", JOptionPane.ERROR_MESSAGE);
//            }
//        } catch (NumberFormatException ex) {
//            JOptionPane.showMessageDialog(this, "Vui lòng nhập đúng định dạng cho các trường số.", "Thông báo", JOptionPane.ERROR_MESSAGE);
//        } catch (Exception ex) {
//            ex.printStackTrace();
//            JOptionPane.showMessageDialog(this, "Đã xảy ra lỗi khi thực hiện cập nhật thông tin hàng hóa.", "Thông báo", JOptionPane.ERROR_MESSAGE);
//        }
    }//GEN-LAST:event_btnSua_SPActionPerformed

    private void tblSanPham_SPMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblSanPham_SPMouseClicked
        // TODO add your handling code here:
        int row = tblSanPham_SP.getSelectedRow();
        showDetailSP(row);
    }//GEN-LAST:event_tblSanPham_SPMouseClicked

    private void btnNhapMoi_NCCActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnNhapMoi_NCCActionPerformed
        // TODO add your handling code here:
        txtMaNCC_NCC.setText("");
        txtTenNCC_NCC.setText("");
        txtSDT_NCC.setText("");
        txtDiaChi_NCC.setText("");
    }//GEN-LAST:event_btnNhapMoi_NCCActionPerformed

    private void tblNCC_NCCMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblNCC_NCCMouseClicked
        // TODO add your handling code here:
        int row = tblNCC_NCC.getSelectedRow();
        showDetailNCC(row);
    }//GEN-LAST:event_tblNCC_NCCMouseClicked
 
    private void btnThem_NCCActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnThem_NCCActionPerformed
        // TODO add your handling code here:
        String tenNCC = txtTenNCC_NCC.getText().trim();
        String sdtNCC = txtSDT_NCC.getText().trim();
        String diachiNCC = txtDiaChi_NCC.getText().trim();

        if (tenNCC.isEmpty() || sdtNCC.isEmpty() || diachiNCC.isEmpty()) {
            JOptionPane.showMessageDialog(this, "Vui lòng điền đầy đủ thông tin.");
            return;
        }

        // Kiểm tra số điện thoại có 10 số và không chứa ký tự đặc biệt
        if (!sdtNCC.matches("\\d{10}")) {
            JOptionPane.showMessageDialog(this, "Số điện thoại không hợp lệ. Vui lòng nhập số điện thoại gồm 10 số.");
            return;
        }

        // Kiểm tra trùng tên nhà cung cấp
        NhaCungCapDAO nccDao = new NhaCungCapDAO();
        if (nccDao.isTenNhaCungCapExist(tenNCC)) {
            JOptionPane.showMessageDialog(this, "Tên nhà cung cấp đã tồn tại. Vui lòng chọn tên khác.");
            return;
        }

        // Kiểm tra trùng số điện thoại
        if (nccDao.isSoDTExist(sdtNCC)) {
            JOptionPane.showMessageDialog(this, "Số điện thoại đã tồn tại. Vui lòng nhập số điện thoại khác.");
            return;
        }

        // Nếu thông tin hợp lệ, thêm nhà cung cấp vào cơ sở dữ liệu
        NhaCungCap newNCC = new NhaCungCap();
        newNCC.setTenNCC(tenNCC); 
        newNCC.setSoDT(sdtNCC); 
        newNCC.setDiaChi(diachiNCC); 

        nccDao.themNhaCungCap(newNCC);
        loadNhaCungCap();
        fillDataToTable();

        txtTenNCC_NCC.setText("");
        txtSDT_NCC.setText("");
        txtDiaChi_NCC.setText("");

        JOptionPane.showMessageDialog(this, "Thêm nhà cung cấp thành công.");
    }//GEN-LAST:event_btnThem_NCCActionPerformed

    private void btnXoa_NCCActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnXoa_NCCActionPerformed
        // TODO add your handling code here:
        int index = tblNCC_NCC.getSelectedRow();
        if (index >= 0) {
            // Hiển thị hộp thoại xác nhận việc xóa
            int confirm = JOptionPane.showConfirmDialog(this, "Bạn có chắc muốn xóa nhà cung cấp này không?", "Xác nhận Xóa", JOptionPane.YES_NO_OPTION);
            if (confirm == JOptionPane.YES_OPTION) {
                // Lấy nhà cung cấp từ danh sách theo chỉ mục đã chọn
                NhaCungCap ncc = listNCC.get(index);

                // Thực hiện xóa nhà cung cấp từ cơ sở dữ liệu
                NhaCungCapDAO nccDao = new NhaCungCapDAO();
                nccDao.xoaNhaCungCap(ncc.getMaNCC());

                // Cập nhật lại bảng sau khi xóa
                fillDataToTable();

                // Thông báo thành công
                JOptionPane.showMessageDialog(this, "Đã xóa nhà cung cấp thành công.");
            }
        } else {
            // Thông báo khi chưa chọn dòng nào
            JOptionPane.showMessageDialog(this, "Vui lòng chọn một nhà cung cấp để xóa.");
        }
    }//GEN-LAST:event_btnXoa_NCCActionPerformed

    private void btnSua_NCCActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSua_NCCActionPerformed
        // TODO add your handling code here:
       String maNCCStr = txtMaNCC_NCC.getText().trim();
       String tenNCC = txtTenNCC_NCC.getText().trim();
       String sdt = txtSDT_NCC.getText().trim();
       String diachi = txtDiaChi_NCC.getText().trim();

            if (maNCCStr.isEmpty() || tenNCC.isEmpty() || sdt.isEmpty() || diachi.isEmpty()) {
                JOptionPane.showMessageDialog(this, "Vui lòng chọn nhà cung cấp và nhập tên mới");
                return;
            }
            
            if (!sdt.matches("\\d{10}")) {
            JOptionPane.showMessageDialog(this, "Số điện thoại không hợp lệ. Vui lòng nhập số điện thoại gồm 10 số.");
            return;
        }
            
            // Kiểm tra trùng tên nhà cung cấp
            NhaCungCapDAO nccDao = new NhaCungCapDAO();
            if (nccDao.isTenNhaCungCapExist(tenNCC)) {
                JOptionPane.showMessageDialog(this, "Tên nhà cung cấp đã tồn tại. Vui lòng chọn tên khác.");
                return;
            }
            
            // Kiểm tra trùng số điện thoại
            if (nccDao.isSoDTExist(sdt)) {
                JOptionPane.showMessageDialog(this, "Số điện thoại đã tồn tại. Vui lòng nhập số điện thoại khác.");
                return;
            }
            int maNCC;
            try {
                maNCC = Integer.parseInt(maNCCStr);
            } catch (NumberFormatException e) {
                JOptionPane.showMessageDialog(this, "Mã nhà cung cấp không hợp lệ");
                return;
            }
            
            // Tạo đối tượng NhaCungCap
            NhaCungCap ncc = new NhaCungCap(maNCC, tenNCC,sdt,diachi);

            nccDao.suaNhaCungCap(ncc);

            JOptionPane.showMessageDialog(this, "Cập nhật nhà cung cấp thành công");
            fillDataToTable();
            clearForm();
    }//GEN-LAST:event_btnSua_NCCActionPerformed

    private void tblSanPham_CHMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblSanPham_CHMouseClicked
        // TODO add your handling code here:
        btnThem_CH.setEnabled(true);
        btnLamMoi_CH.setEnabled(false);
        btnSua_CH.setEnabled(false);
        btnXoa_CH.setEnabled(false);
        int row = tblSanPham_CH.getSelectedRow();
        showDetailCH(listSP, row);
    }//GEN-LAST:event_tblSanPham_CHMouseClicked

    private void btnThem_CHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnThem_CHActionPerformed
        // TODO add your handling code here:
        try{
            int soLuong = Integer.parseInt(txtSoLuong_CH.getText());
            int row = tblSanPham_CH.getSelectedRow();
            if(row >= 0){
                SanPham sp = listSP.get(row);
                if(sp != null){
                    boolean existsInHD = false;

                    // Cập nhật hoặc thêm sản phẩm vào hóa đơn
                    for (SanPham item : listHDSP) {
                        if (sp.getMaSP() == item.getMaSP()) {
                            item.setSoLuong(item.getSoLuong() + soLuong);
                            existsInHD = true;
                            break;
                        }
                    }

                    if (!existsInHD) {
                        SanPham sphd = new SanPham();
                        sphd.setMaSP(sp.getMaSP());
                        sphd.setTenSP(sp.getTenSP());
                        sphd.setDonGia(sp.getDonGia());
                        sphd.setSoLuong(soLuong);
                        sphd.setHinhSP(sp.getHinhSP());
                        sphd.setMaNCC(sp.getMaNCC());
                        sphd.setMoTa(sp.getMoTa());
                        listHDSP.add(sphd);
                    }

                    // Trừ số lượng trong danh sách sản phẩm
                    sp.setSoLuong(sp.getSoLuong() - soLuong);

                    // Bỏ sản phẩm ra khỏi danh sách khi hết hàng
                    if (sp.getSoLuong() <= 0) {
                        listSP.remove(row);
                    }
                }
            }
            this.fillDataToTable();
        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, "Bạn chưa nhập số lượng");
        }
    }//GEN-LAST:event_btnThem_CHActionPerformed

    private void btnThanhToan_CHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnThanhToan_CHActionPerformed
        // TODO add your handling code here:
        String soDT = txtSDT_CH.getText();
        String tenKH = txtTenKH_CH.getText();
        String diaChi = txtDiaChi_CH.getText();
        int maNV = Integer.parseInt(txtMaNV_CH.getText());
        Date ngayLapHD = jDateChooser1.getDate();
        double tongTien = tinhTongTienHoaDon();
        HoaDon hd = new HoaDon();
        KhachHang kh = new KhachHang();
        try {
            //Nếu không có khách hàng thì thêm khách hàng vào danh sách
            if(!isKHExist){
                kh.setTenKH(tenKH);
                kh.setSoDT(soDT);
                kh.setDiaChi(diaChi);

                KhachHangDAO khDAO = new KhachHangDAO();
                khDAO.themKhachHang(kh);

                loadKhachHang();
            }        
            for(KhachHang item: listKH){
                if(item.getSoDT().equals(soDT)){
                    kh = item;
                    break;
                }
            }
            //Lập hóa đơn
            hd.setMaKH(kh.getMaKH());
            hd.setMaNV(maNV);
            hd.setNgayLapHD(ngayLapHD);
            hd.setTongTien(tongTien);
            HoaDonDAO hdDAO = new HoaDonDAO();
            hdDAO.themHoaDon(hd);
            loadHoaDon();
            
            for(SanPham item: listHDSP){
                ChiTietHoaDon cthd = new ChiTietHoaDon();
                cthd.setMaHD(hd.getMaHD());
                cthd.setMaSP(item.getMaSP());
                cthd.setSoLuong(item.getSoLuong());
                cthd.setDonGia(item.getDonGia());
                ChiTietHoaDonDAO cthdDAO = new ChiTietHoaDonDAO();
                cthdDAO.themChiTietHoaDon(cthd);
            }
            fillDataToTableKH();
            for(SanPham sp : listSP){
                SanPhamDAO spDAO = new SanPhamDAO();
                spDAO.suaSanPham(sp);
            }
            showDetailCTHD(hd.getMaHD());
        } catch (Exception e){
            e.printStackTrace();
        }
    }//GEN-LAST:event_btnThanhToan_CHActionPerformed

    private void btnSearch_CHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSearch_CHActionPerformed
        // TODO add your handling code here:
        String tenSP = txtSearchBox_CH.getText();
        try {
            SanPhamDAO spDAO = new SanPhamDAO();
            listSP = spDAO.docSanPhamTheoTen(tenSP);
            fillDataToTable();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }//GEN-LAST:event_btnSearch_CHActionPerformed

    private void btnLamMoi_CHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnLamMoi_CHActionPerformed
        // TODO add your handling code here:
        // Duyệt list hóa đơn để trả lại số lượng sản phẩm cho list sản phẩm
        for (SanPham itemHD : listHDSP) {
            boolean found = false;
            for (SanPham itemSP : listSP) {
                if (itemHD.getMaSP() == itemSP.getMaSP()) {
                    itemSP.setSoLuong(itemSP.getSoLuong() + itemHD.getSoLuong());
                    found = true;
                    break;
                }
            }
            if (!found) {
                listSP.add(itemHD);
            }
        }
        
        // Clear listHD after updating listSP
        listHDSP.clear();
        
        this.fillDataToTable();
    }//GEN-LAST:event_btnLamMoi_CHActionPerformed

    private void tblHoaDon_CHMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblHoaDon_CHMouseClicked
        // TODO add your handling code here:
        btnThem_CH.setEnabled(false);
        btnLamMoi_CH.setEnabled(true);
        btnSua_CH.setEnabled(true);
        btnXoa_CH.setEnabled(true);
        int row = tblHoaDon_CH.getSelectedRow();
        showDetailCH(listHDSP, row);
    }//GEN-LAST:event_tblHoaDon_CHMouseClicked

    private void btnSua_CHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSua_CHActionPerformed
        // TODO add your handling code here:
        try {
            int newQuantity = Integer.parseInt(txtSoLuong_CH.getText());
            int row = tblHoaDon_CH.getSelectedRow(); // Assuming tblHoaDon_CH is the table for listHD

            if (row >= 0) {
                SanPham spHD = listHDSP.get(row);
                int oldQuantity = spHD.getSoLuong();
                int difference = newQuantity - oldQuantity;

                // Update the quantity in listHD
                spHD.setSoLuong(newQuantity);

                // Find the corresponding product in listSP
                for (SanPham spSP : listSP) {
                    if (spHD.getMaSP() == spSP.getMaSP()) {
                        // Adjust the quantity in listSP
                        spSP.setSoLuong(spSP.getSoLuong() - difference);
                        break;
                    }
                }
                // Refresh the table data
                this.fillDataToTable();
            } else {
                JOptionPane.showMessageDialog(this, "Bạn chưa chọn sản phẩm để cập nhật");
            }
        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, "Có lỗi xảy ra: " + e.getMessage());
        }
    }//GEN-LAST:event_btnSua_CHActionPerformed

    private void btnXoa_CHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnXoa_CHActionPerformed
        // TODO add your handling code here:
        try {
            int row = tblHoaDon_CH.getSelectedRow(); // Assuming tblHoaDon_CH is the table for listHD
            if (row >= 0) {
                SanPham spHD = listHDSP.get(row);
                boolean found = false;
                for (SanPham spSP : listSP) {
                    if (spHD.getMaSP() == spSP.getMaSP()) {
                        spSP.setSoLuong(spSP.getSoLuong() + spHD.getSoLuong());
                        found = true;
                        break;
                    }
                }
                // If product not found in listSP (should not happen), add it back
                if (!found) {
                    listSP.add(spHD);
                }
                // Remove the product from listHD
                listHDSP.remove(row);

                // Refresh the table data
                this.fillDataToTable();
            } else {
                JOptionPane.showMessageDialog(this, "Bạn chưa chọn sản phẩm để xóa");
            }
        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, "Có lỗi xảy ra: " + e.getMessage());
        }
    }//GEN-LAST:event_btnXoa_CHActionPerformed

    private void txtSDT_CHFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtSDT_CHFocusLost
        // TODO add your handling code here:
                // Kiểm tra số điện thoại có 10 số và không chứa ký tự đặc biệt
        if (!txtSDT_CH.getText().trim().matches("\\d{10}")) {
            JOptionPane.showMessageDialog(this, "Số điện thoại không hợp lệ. Vui lòng nhập số điện thoại gồm 10 số.");
            return;
        }
        String sodt = txtSDT_CH.getText();
        KhachHang kh = new KhachHang();
        for(KhachHang item : listKH){
            if(item.getSoDT().equals(sodt)){
                isKHExist = true;
                kh = item;
                break;
            } else {
                isKHExist = false;
            }
        }
        if(isKHExist){
            txtTenKH_CH.setText(kh.getTenKH());
            txtDiaChi_CH.setText(kh.getDiaChi());
        } else {
            txtTenKH_CH.setText("");
            txtDiaChi_CH.setText("");
        }
    }//GEN-LAST:event_txtSDT_CHFocusLost

    private void btn_Them_NVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Them_NVActionPerformed
        // TODO add your handling code here:
        ThemNV();
        fillDataToTableNV();
    }//GEN-LAST:event_btn_Them_NVActionPerformed

    private void btn_Xoa_NVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Xoa_NVActionPerformed
        // TODO add your handling code here:
        XoaNV();

    }//GEN-LAST:event_btn_Xoa_NVActionPerformed

    private void btn_Sua_NVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Sua_NVActionPerformed
        // TODO add your handling code here:
        capNhatNV();
    }//GEN-LAST:event_btn_Sua_NVActionPerformed

    private void btn_NhapMoi_NVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_NhapMoi_NVActionPerformed
        // TODO add your handling code here:
        clearNV();
    }//GEN-LAST:event_btn_NhapMoi_NVActionPerformed

    private void tbl_NhanVien_NV1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbl_NhanVien_NV1MouseClicked
        // TODO add your handling code here:
        int selectedRow = tbl_NhanVien_NV1.getSelectedRow();
        if(selectedRow !=-1){
            maNV = (int) tbl_NhanVien_NV1.getValueAt(selectedRow, 0);
            txt_TenNV_NV.setText((String)tbl_NhanVien_NV1.getValueAt(selectedRow, 1));
            txt_Email_NV.setText((String)tbl_NhanVien_NV1.getValueAt(selectedRow, 2));
            txt_SDT_NV.setText(String.valueOf(tbl_NhanVien_NV1.getValueAt(selectedRow, 3)));
            Tar_DiaChi_NV.setText((String)tbl_NhanVien_NV1.getValueAt(selectedRow, 4));
        }
    }//GEN-LAST:event_tbl_NhanVien_NV1MouseClicked

    private void btn_Search_NVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Search_NVActionPerformed
        // TODO add your handling code here:
        searchAndFillDataToTableNV();
    }//GEN-LAST:event_btn_Search_NVActionPerformed

    private void btn_Reload_NVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Reload_NVActionPerformed
        // TODO add your handling code here:
        fillDataToTableNV();
    }//GEN-LAST:event_btn_Reload_NVActionPerformed

    private void tbl_khachHang_KHMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbl_khachHang_KHMouseClicked
        // TODO add your handling code here:
        int selectedRow = tbl_khachHang_KH.getSelectedRow();
        if(selectedRow !=-1){
            maKH = (int) tbl_khachHang_KH.getValueAt(selectedRow, 0);
            txt_TenKH_KH.setText((String)tbl_khachHang_KH.getValueAt(selectedRow, 1));
            txt_SDT_KH.setText(String.valueOf(tbl_khachHang_KH.getValueAt(selectedRow, 2)));
            Tar_DiaChi_KH.setText((String)tbl_khachHang_KH.getValueAt(selectedRow, 3));
        }
    }//GEN-LAST:event_tbl_khachHang_KHMouseClicked

    private void btnSearch_KHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSearch_KHActionPerformed
        // TODO add your handling code here:
        searchAndFillDataToTableKH();
    }//GEN-LAST:event_btnSearch_KHActionPerformed

    private void btn_Them_KHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Them_KHActionPerformed
        // TODO add your handling code here:
        ThemKH();
        fillDataToTableKH();
    }//GEN-LAST:event_btn_Them_KHActionPerformed

    private void btn_Xoa_KHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Xoa_KHActionPerformed
        // TODO add your handling code here:
        XoaKH();

    }//GEN-LAST:event_btn_Xoa_KHActionPerformed

    private void btn_Sua_KHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Sua_KHActionPerformed
        // TODO add your handling code here:
        capNhatKH();
    }//GEN-LAST:event_btn_Sua_KHActionPerformed

    private void btn_NhapMoi_KHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_NhapMoi_KHActionPerformed
        // TODO add your handling code here:
        clearKH();
    }//GEN-LAST:event_btn_NhapMoi_KHActionPerformed

    private void btn_Reload_KHActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Reload_KHActionPerformed
        // TODO add your handling code here:
        fillDataToTableKH();
    }//GEN-LAST:event_btn_Reload_KHActionPerformed

    private void btnSearch_NCCActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSearch_NCCActionPerformed
        // TODO add your handling code here:
        String tenNCC = txtSearchBox_NCC.getText();
        try {
            NhaCungCapDAO nccDAO = new NhaCungCapDAO();
            listNCC = nccDAO.docNhaCungCapTheoTen(tenNCC);
            fillDataToTable();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }//GEN-LAST:event_btnSearch_NCCActionPerformed

    private void btnSearch_SPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSearch_SPActionPerformed
        // TODO add your handling code here:
        String tenSP = txtSearchBox_SP.getText();
        try {
            SanPhamDAO spDAO = new SanPhamDAO();
            listSP = spDAO.docSanPhamTheoTen(tenSP);
            fillDataToTable();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }//GEN-LAST:event_btnSearch_SPActionPerformed

    private void btnMoHinh_SPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnMoHinh_SPActionPerformed
        // TODO add your handling code here:
        JFileChooser fileChooser = new JFileChooser();
        String defaultPath = "src\\images\\";
        fileChooser.setCurrentDirectory(new File(defaultPath));
        FileNameExtensionFilter filter = new FileNameExtensionFilter("Image", "jpg", "png", "gif", "jpeg");
        fileChooser.setFileFilter(filter);
        int result = fileChooser.showOpenDialog(null);
        if(result == JFileChooser.APPROVE_OPTION){
            String filePath = fileChooser.getSelectedFile().getAbsolutePath();
            imgPath = fileChooser.getSelectedFile().getName();
            displayImage_SP(imgPath);
        }
    }//GEN-LAST:event_btnMoHinh_SPActionPerformed

    private void btnSearch_HDActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSearch_HDActionPerformed
        // TODO add your handling code here:
        String maHD = txtMaHD_HD.getText();
        try {
            HoaDonDAO spDAO = new HoaDonDAO();
            listHD = spDAO.docTatCaHoaDonTheoMaHD(maHD);
            fillDataToTableHD();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }//GEN-LAST:event_btnSearch_HDActionPerformed

    private void btnShowDetail_HDActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnShowDetail_HDActionPerformed
        // TODO add your handling code here:
        int row = tblHoaDon_HD.getSelectedRow();
        int maHD = 0;
        if(row >= 0){
            maHD = (int) tblHoaDon_HD.getValueAt(row, 0);
            showDetailCTHD(maHD);
        } else {
            JOptionPane.showMessageDialog(this, "Bạn chưa chọn hóa đơn trên bảng");
        }
    }//GEN-LAST:event_btnShowDetail_HDActionPerformed

    private void tblTaiKhoan_TKMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblTaiKhoan_TKMouseClicked
        // TODO add your handling code here:
        showDetail();
    }//GEN-LAST:event_tblTaiKhoan_TKMouseClicked

    private void btnThem_TKActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnThem_TKActionPerformed
        // TODO add your handling code here:
        isNewMode = true;
        clearFormTK();
    }//GEN-LAST:event_btnThem_TKActionPerformed

    private void btnXoa_TKActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnXoa_TKActionPerformed
        // TODO add your handling code here:
        if (txtTenDN_TK.getText().isEmpty()) {
            JOptionPane.showMessageDialog(this, "Vui lòng chọn sinh viên muốn xóa.");
        } else {
            // Prompt confirmation for deletion
            int dialogResult = JOptionPane.showConfirmDialog(this, "Bạn có chắc muốn xóa sinh viên này?", "Xác nhận xóa", JOptionPane.YES_NO_OPTION);

            if (dialogResult == JOptionPane.YES_OPTION) {
                // User confirmed deletion
                TaiKhoanDao tkdao = new TaiKhoanDao();
                int x = tkdao.xoaTaiKhoan(txtTenDN_TK.getText());

                if (x > 0) {
                    // If deletion successful
                    filldateTable();  // Update table
                    JOptionPane.showMessageDialog(this, "Xóa thành công.");
                    clearFormTK();  // Clear form
                } else {
                    JOptionPane.showMessageDialog(this, "Xóa thất bại.");
                }
            }
        }
    }//GEN-LAST:event_btnXoa_TKActionPerformed

    private void btnSua_TKActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSua_TKActionPerformed
        // TODO add your handling code here:
        isNewMode =false;
        txtTenDN_TK.setEnabled(false); // Vô hiệu hóa sửa đổi trên trường Mã SV

        // Cho phép sửa đổi trên các trường khác trên form
        txtMatKhau_TK.setEnabled(true);
        txtVaiTro_TK.setEnabled(true);

    }//GEN-LAST:event_btnSua_TKActionPerformed

    private void btnLuu_TKActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnLuu_TKActionPerformed
        // TODO add your handling code here:
        if (!txtMatKhau_TK.getText().isEmpty() || !txtVaiTro_TK.getText().isEmpty() || !txtTenDN_TK.getText().isEmpty())
        {
            TaiKhoanDao tkdao = new TaiKhoanDao();
            TaiKhoan tk = new TaiKhoan();
            tk.setTenDN(txtTenDN_TK.getText());
            tk.setMatKhau(txtMatKhau_TK.getText());
            tk.setVaiTro(txtVaiTro_TK.getText());

            NhanVienDAO nvdao = new NhanVienDAO();
            String TenNV = cboNhanVien_TK.getSelectedItem().toString();
            int MaNV;
            NhanVien nv = nvdao.timNhanVienTheoTen(TenNV);
            MaNV = nv.getMaNV();
            tk.setMaNV(MaNV);

            if (isNewMode)
            {
                // Thêm dòng dữ liệu mới vào ArrayList
                //listSV.add(st);

                int x = tkdao.themTaiKhoan(tk);
                if (x > 0) {
                    JOptionPane.showMessageDialog(this, "Thêm thành công");
                    filldateTable();
                    isNewMode = false; // Quay về trạng thái không phải New
                } else {
                    JOptionPane.showMessageDialog(this, "Thêm thất bại");
                }

            }else {
                // Cập nhật thông tin của sinh viên đang chọn
                //int index = tblSinhVien.getSelectedRow();
                //listSV.set(index, st);
                int x = tkdao.suaTaiKhoan(tk);
                if(x > 0) {
                    JOptionPane.showMessageDialog(this, "Cập nhật thành công");
                    filldateTable();

                } else {
                    JOptionPane.showMessageDialog(this, "Cập nhật thất bại");
                }
            }

        }
        else{
            JOptionPane.showMessageDialog(null, "Vui lòng nhập đầy đủ thông tin");
        }

    }//GEN-LAST:event_btnLuu_TKActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(frm_TrangChu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(frm_TrangChu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(frm_TrangChu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(frm_TrangChu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new frm_TrangChu("Admin").setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextArea Tar_DiaChi_KH;
    private javax.swing.JTextArea Tar_DiaChi_NV;
    private javax.swing.JButton btnCuaHang;
    private javax.swing.JButton btnHoaDon;
    private javax.swing.JButton btnKhachHang;
    private javax.swing.JButton btnLamMoi_CH;
    private javax.swing.JButton btnLuu_TK;
    private javax.swing.JButton btnMoHinh_SP;
    private javax.swing.JButton btnNhaCungCap;
    private javax.swing.JButton btnNhanVien;
    private javax.swing.JButton btnNhapMoi_NCC;
    private javax.swing.JButton btnNhapMoi_SP;
    private javax.swing.JButton btnPhieuNhap;
    private javax.swing.JButton btnSanPham;
    private javax.swing.JButton btnSearch_CH;
    private javax.swing.JButton btnSearch_HD;
    private javax.swing.JButton btnSearch_KH;
    private javax.swing.JButton btnSearch_NCC;
    private javax.swing.JButton btnSearch_SP;
    private javax.swing.JButton btnShowDetail_HD;
    private javax.swing.JButton btnSua_CH;
    private javax.swing.JButton btnSua_NCC;
    private javax.swing.JButton btnSua_SP;
    private javax.swing.JButton btnSua_TK;
    private javax.swing.JButton btnTaiKhoan;
    private javax.swing.JButton btnThanhToan_CH;
    private javax.swing.JButton btnThem_CH;
    private javax.swing.JButton btnThem_NCC;
    private javax.swing.JButton btnThem_SP;
    private javax.swing.JButton btnThem_TK;
    private javax.swing.JButton btnXoa_CH;
    private javax.swing.JButton btnXoa_NCC;
    private javax.swing.JButton btnXoa_SP;
    private javax.swing.JButton btnXoa_TK;
    private javax.swing.JButton btn_NhapMoi_KH;
    private javax.swing.JButton btn_NhapMoi_NV;
    private javax.swing.JButton btn_Reload_KH;
    private javax.swing.JButton btn_Reload_NV;
    private javax.swing.JButton btn_Search_NV;
    private javax.swing.JButton btn_Sua_KH;
    private javax.swing.JButton btn_Sua_NV;
    private javax.swing.JButton btn_Them_KH;
    private javax.swing.JButton btn_Them_NV;
    private javax.swing.JButton btn_Xoa_KH;
    private javax.swing.JButton btn_Xoa_NV;
    private javax.swing.JComboBox<String> cboNCC_SP;
    private javax.swing.JComboBox<String> cboNhanVien_TK;
    private com.toedter.calendar.JDateChooser jDateChooser1;
    private com.toedter.calendar.JDateChooser jDateChooser2;
    private com.toedter.calendar.JDateChooser jDateChooser3;
    private javax.swing.JInternalFrame jInternalFrame1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JMenuItem jMenuItem1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane10;
    private javax.swing.JScrollPane jScrollPane11;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JScrollPane jScrollPane8;
    private javax.swing.JScrollPane jScrollPane9;
    private javax.swing.JTabbedPane jTabbedPane;
    private javax.swing.JLabel label;
    private javax.swing.JLabel lbDonGia_CH;
    private javax.swing.JLabel lbHinh_CH;
    private javax.swing.JLabel lbHinh_SP;
    private javax.swing.JLabel lbTenSP_CH;
    private javax.swing.JLabel lbTongTien_CH;
    private javax.swing.JMenu menuThoat;
    private javax.swing.JPanel pnlCuaHang;
    private javax.swing.JPanel pnlHoaDon;
    private javax.swing.JPanel pnlKhachHang;
    private javax.swing.JPanel pnlNhaCungCap;
    private javax.swing.JPanel pnlNhanVien;
    private javax.swing.JPanel pnlPhieuNhap;
    private javax.swing.JPanel pnlSanPham;
    private javax.swing.JPanel pnlTaiKhoan;
    private javax.swing.JTable tblHoaDon_CH;
    private javax.swing.JTable tblHoaDon_HD;
    private javax.swing.JTable tblNCC_NCC;
    private javax.swing.JTable tblSanPham_CH;
    private javax.swing.JTable tblSanPham_SP;
    private javax.swing.JTable tblTaiKhoan_TK;
    private javax.swing.JTable tbl_NhanVien_NV1;
    private javax.swing.JTable tbl_khachHang_KH;
    private javax.swing.JTextField txtDiaChi_CH;
    private javax.swing.JTextField txtDiaChi_NCC;
    private javax.swing.JTextField txtDonGia_SP;
    private javax.swing.JTextField txtMaHD_HD;
    private javax.swing.JTextField txtMaNCC_NCC;
    private javax.swing.JTextField txtMaNV_CH;
    private javax.swing.JTextField txtMaSP_SP;
    private javax.swing.JTextField txtMatKhau_TK;
    private javax.swing.JTextArea txtMoTa_SP;
    private javax.swing.JTextField txtSDT_CH;
    private javax.swing.JTextField txtSDT_NCC;
    private javax.swing.JTextField txtSearchBox_CH;
    private javax.swing.JTextField txtSearchBox_NCC;
    private javax.swing.JTextField txtSearchBox_SP;
    private javax.swing.JTextField txtSoLuong_CH;
    private javax.swing.JTextField txtSoLuong_SP;
    private javax.swing.JTextField txtTenDN_TK;
    private javax.swing.JTextField txtTenKH_CH;
    private javax.swing.JTextField txtTenNCC_NCC;
    private javax.swing.JTextField txtTenSP_SP;
    private javax.swing.JTextField txtVaiTro_TK;
    private javax.swing.JTextField txt_Email_NV;
    private javax.swing.JTextField txt_SDT_KH;
    private javax.swing.JTextField txt_SDT_NV;
    private javax.swing.JTextField txt_Search_KH;
    private javax.swing.JTextField txt_Search_NV;
    private javax.swing.JTextField txt_TenKH_KH;
    private javax.swing.JTextField txt_TenNV_NV;
    // End of variables declaration//GEN-END:variables

    private void fillDataToTable() {
        try {
            List<NhaCungCap> listNCC_Tmp = new ArrayList<>();
            NhaCungCapDAO nccdao = new NhaCungCapDAO();
            listNCC_Tmp = nccdao.docTatCaNCC();
            //load san pham
            tblModel = (DefaultTableModel) tblSanPham_CH.getModel();
            tblModel.setRowCount(0);
            for (SanPham sp : listSP) {
                Object[] row = new Object[]{sp.getMaSP(), sp.getTenSP(), formatter.format(sp.getDonGia()),  formatter.format(sp.getSoLuong()),sp.getMoTa(),sp.getHinhSP()};
                tblModel.addRow(row);
            }
            cboNCC_SP.removeAllItems();
            for(NhaCungCap ncc: listNCC_Tmp){
                cboNCC_SP.addItem(ncc.getTenNCC());
            }
            
            tblModel = (DefaultTableModel) tblSanPham_SP.getModel();
            tblModel.setRowCount(0);
            for (SanPham sp : listSP) {
                NhaCungCap ncc = null;
                for (NhaCungCap item : listNCC_Tmp) {
                    if (item.getMaNCC() == sp.getMaNCC()) {
                        ncc = item;
                        break;
                    }
                }
                Object[] row = new Object[]{sp.getMaSP(), sp.getTenSP(), ncc.getMaNCC(), formatter.format( sp.getSoLuong()), formatter.format(sp.getDonGia()),sp.getMoTa(),sp.getHinhSP()};
                tblModel.addRow(row);
            }
            
//            NhaCungCapDAO nccdao = new NhaCungCapDAO();
//            listNCC = nccdao.docTatCaNCC();
            tblModel = (DefaultTableModel) tblNCC_NCC.getModel();
            tblModel.setRowCount(0);
            for (NhaCungCap ncc : listNCC) {
                Object[] row = new Object[]{ncc.getMaNCC(), ncc.getTenNCC(),ncc.getSoDT(),ncc.getDiaChi()};
                tblModel.addRow(row);
            }
            tblNCC_NCC.setModel(tblModel);
            
            tblModel = (DefaultTableModel) tblHoaDon_CH.getModel();
            tblModel.setRowCount(0);
            for(SanPham sp : listHDSP){
                Object[] data = new Object[]{sp.getMaSP(), sp.getTenSP(), formatter.format( sp.getSoLuong()), formatter.format( sp.getDonGia()), formatter.format(sp.thanhTien())};
                tblModel.addRow(data);               
            }
            
            lbTongTien_CH.setText(String.valueOf(formatter.format(this.tinhTongTienHoaDon())+"đ"));
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
    
    public void loadSanPham(){
        try{
            SanPhamDAO spDAO = new SanPhamDAO();
            listSP = spDAO.docTatCaSanPham();
        } catch(Exception e){
            e.printStackTrace();
        }
    }
    
    public void loadNhaCungCap(){
        try{
            NhaCungCapDAO nccDAO = new NhaCungCapDAO();
            listNCC = nccDAO.docTatCaNCC();
        } catch(Exception e){
            e.printStackTrace();
        }
    }
    
    public void loadKhachHang(){
        try{
            KhachHangDAO khDAO = new KhachHangDAO();
            listKH = khDAO.docTatCaKhachHang();
        } catch (Exception e){
            e.printStackTrace();
        }
    }
    
    public void loadHoaDon(){
        try{
            HoaDonDAO khDAO = new HoaDonDAO();
            listHD = khDAO.docTatCaHoaDon();
        } catch (Exception e){
            e.printStackTrace();
        }
    }
    
    public void fillDataToTableHD(){
        tblModel = (DefaultTableModel) tblHoaDon_HD.getModel();
        tblModel.setRowCount(0);
        for (HoaDon hd : listHD) {
            KhachHang kh = null;
            for (KhachHang item : listKH) {
                if (item.getMaKH() == hd.getMaKH()) {
                    kh = item;
                    break;
                }
            }
            NhanVien nv = null;
            for (NhanVien item : listNV) {
                if (item.getMaNV() == hd.getMaNV()) {
                    nv = item;
                    break;
                }
            }
            Object[] row = new Object[]{hd.getMaHD(), kh.getTenKH(), nv.getTenNV(), dateFormat.format(hd.getNgayLapHD()), formatter.format(hd.getTongTien())};
            tblModel.addRow(row);
        }
    }
    
    public void showDetailCTHD(int maHD){
        HoaDon hd = new HoaDon();
        KhachHang kh = new KhachHang();
        NhanVien nv = new NhanVien();
        List<SanPham> dsSP = new ArrayList<>();
        List<ChiTietHoaDon> dsCTHD = new ArrayList<>();
        for(HoaDon item : listHD){
            if(item.getMaHD() == maHD){
                hd = item;
                break;
            }
        }
        for(KhachHang item: listKH){
            if(item.getMaKH() == hd.getMaKH()){
                kh = item;
                break;
            }
        }
        for(NhanVien item: listNV){
            if(item.getMaNV() == hd.getMaNV()){
                nv = item;
                break;
            }
        }
        
        try{
            ChiTietHoaDonDAO cthdDAO = new ChiTietHoaDonDAO();
            dsCTHD = cthdDAO.docChiTietSanPham(maHD);
        } catch (Exception e){
            e.printStackTrace();
        }
        
        for(ChiTietHoaDon item : dsCTHD){
            for(SanPham sp : listSP){
                if(item.getMaSP() == sp.getMaSP()){
                    dsSP.add(sp);
                }
            }
        }
        frm_ChiTietHoaDon frmCTHD = new frm_ChiTietHoaDon(hd, kh, nv, dsSP, dsCTHD); 
        frmCTHD.setVisible(true);
    }
    
    public void displayImage_CH(String imagePath){
        ImageIcon imageIcon = new ImageIcon("src\\images\\" + imagePath);
        Image image = imageIcon.getImage().getScaledInstance(150, 150, Image.SCALE_SMOOTH);
        imageIcon = new ImageIcon(image);
        lbHinh_CH.setIcon(imageIcon);
    }
    
    public void displayImage_SP(String imagePath){
        ImageIcon imageIcon = new ImageIcon("src\\images\\" + imagePath);
        Image image = imageIcon.getImage().getScaledInstance(150, 150, Image.SCALE_SMOOTH);
        imageIcon = new ImageIcon(image);
        lbHinh_SP.setIcon(imageIcon);
    }
    
    public void showDetailCH(List<SanPham> ds, int row){
        if(row >= 0){
            SanPham sp = ds.get(row);
            if(sp != null){
                lbTenSP_CH.setText(sp.getTenSP());
                lbDonGia_CH.setText(String.valueOf(sp.getDonGia()));
                displayImage_CH(sp.getHinhSP());
            }
        }
    }
    
    public void showDetailSP(int row){
        if(row >= 0){
            SanPham sp = listSP.get(row);
            if(sp != null){
                txtTenSP_SP.setText(sp.getTenSP());
                txtDonGia_SP.setText(String.valueOf(sp.getDonGia()));
                displayImage_SP(sp.getHinhSP());
                txtMoTa_SP.setText(sp.getMoTa());
            }
        }
    }
    
    public void showDetailNCC(int row){
        int index = tblNCC_NCC.getSelectedRow();
        if (index < 0) {
            JOptionPane.showMessageDialog(this, "Bạn chưa chọn dòng nào trên bảng");
        } else {
            NhaCungCap ncc = listNCC.get(index);
            txtMaNCC_NCC.setText(String.valueOf(ncc.getMaNCC()));
            txtTenNCC_NCC.setText(ncc.getTenNCC());
            txtSDT_NCC.setText(ncc.getSoDT());
            txtDiaChi_NCC.setText(ncc.getDiaChi());
        }
    }
    
    private void clearForm() {
        txtMaNCC_NCC.setText("");
        txtTenNCC_NCC.setText("");
        txtSDT_NCC.setText("");
        txtDiaChi_NCC.setText("");
    }
     
    public double tinhTongTienHoaDon(){
        int tong = 0;
        for(SanPham sp : listHDSP){
            tong += sp.thanhTien();
        }
        return tong;
    }
    
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    private void fillDataToTableNV(){
        NhanVienDAO nvdao = new NhanVienDAO();
        listNV = nvdao.readAllNhanVien();
        tblModel = (DefaultTableModel) tbl_NhanVien_NV1.getModel();
        tblModel.setRowCount(0);
        for (NhanVien nv: listNV){
            Object[] row = new Object[]{nv.getMaNV(), nv.getTenNV(),nv.getEmail(), nv.getSDT(), nv.getDiaChi()};
            tblModel.addRow(row);
        }
        tbl_NhanVien_NV1.setModel(tblModel);
    }
    
    private void searchAndFillDataToTableNV() {
        String keyword = txt_Search_NV.getText();
        List<NhanVien> listNV = searchNhanVien(keyword);
        updateTableNV(listNV);
        txt_Search_NV.setText("");
    }
    private List<NhanVien> searchNhanVien(String keyword) {
        NhanVienDAO nvdao = new NhanVienDAO();
        return nvdao.findNhanVien(keyword);
    }
    private void updateTableNV(List<NhanVien> listNV) {
        tblModel.setRowCount(0); // Clear old data
        for (NhanVien nv : listNV) {
            Object[] row = new Object[]{nv.getMaNV(), nv.getTenNV(), nv.getEmail(), nv.getSDT(), nv.getDiaChi()};
            tblModel.addRow(row);
        }
        tbl_NhanVien_NV1.setModel(tblModel);
    }
    private void clearNV(){
        txt_TenNV_NV.setText("");
        txt_Email_NV.setText("");
        txt_SDT_NV.setText("");
        Tar_DiaChi_NV.setText("");
    }
    private void ThemNV(){
        if (!isInputValidNV()) {
            return;
        }
        NhanVien nv = new NhanVien();
        NhanVienDAO nvdao = new NhanVienDAO();
        nv.setTenNV(txt_TenNV_NV.getText());
        nv.setEmail(txt_Email_NV.getText());
        nv.setSDT(txt_SDT_NV.getText());
        nv.setDiaChi(Tar_DiaChi_NV.getText());
        String email = txt_Email_NV.getText();
        String phone = nv.getSDT();
        if(nvdao.isCustomerDataValidSua(maNV, email, phone)){
            boolean result = nvdao.themNhanVien(nv);
            if(result){
                JOptionPane.showMessageDialog(this,"Thêm thành công!");

            }
            else
                JOptionPane.showMessageDialog(this,"Thêm thất bại");
        }
        else
        {
            JOptionPane.showMessageDialog(this,"Không được trùng Emai hoặc số điện thoại!");
        }
        
        
    }
    private void XoaNV(){
        if (maNV >= 0) {
            NhanVienDAO nvdao = new NhanVienDAO();// Kiểm tra xem có mã nhân viên được chọn không
            boolean result = nvdao.xoaNhanVien(maNV);
            if (result) {
                JOptionPane.showMessageDialog(this, "Xóa nhân viên thành công!");
                fillDataToTableNV(); // Cập nhật lại danh sách nhân viên
            } else {
                JOptionPane.showMessageDialog(this, "Xóa nhân viên thất bại.");
            }
        } else {
            JOptionPane.showMessageDialog(this, "Vui lòng chọn nhân viên cần xóa.");
        }
    }
    private void capNhatNV(){
        if (!isInputValidNV()) {
            return;
        }
        if (maNV >= 0) {
            NhanVien nv = new NhanVien();
            NhanVienDAO nvdao = new NhanVienDAO();
            nv.setMaNV(maNV);
            nv.setTenNV(txt_TenNV_NV.getText());
            nv.setEmail(txt_Email_NV.getText());
            nv.setSDT(txt_SDT_NV.getText());
            nv.setDiaChi(Tar_DiaChi_NV.getText());
            String email = txt_Email_NV.getText();
            String phone = nv.getSDT();
            int manv = maNV;
            if(nvdao.isCustomerDataValidSua(maNV, email, phone)) {
                     boolean result = nvdao.suaNhanVien(nv);
                    if(result){
                        JOptionPane.showMessageDialog(this,"Sửa thành công!");
                        fillDataToTableNV();
                    }
                    else
                    {

                        JOptionPane.showMessageDialog(this, maNV);
                        JOptionPane.showMessageDialog(this,"Sửa thất bại");
                    }
            } else {
        // Xử lý trường hợp email hoặc số điện thoại đã tồn tại
                JOptionPane.showMessageDialog(this,"Đã tồn tại email hoặc só điện thoại");
            }
            
            
            /*boolean result = nvdao.suaNhanVien(nv);
            if(result){
                JOptionPane.showMessageDialog(this,"Sửa thành công!");
                fillDataToTable();
            }
            else
            {
                
                JOptionPane.showMessageDialog(this, maNV);
                JOptionPane.showMessageDialog(this,"Sửa thất bại");
            }*/
        }
        else
            JOptionPane.showMessageDialog(this,"Khong lay được mã NV");
    }
    private boolean isInputValidNV() {
        if (txt_TenNV_NV.getText().isEmpty()) {
            JOptionPane.showMessageDialog(this, "Tên Nhân Viên không được để trống");
            return false;
        }
        if (txt_SDT_NV.getText().isEmpty()) {
            JOptionPane.showMessageDialog(this, "Số điện thoại không được để trống");
            return false;
        }
        String sdt = txt_SDT_NV.getText();
        if (!sdt.matches("0\\d{9}")) {
            JOptionPane.showMessageDialog(this, "Vui lòng nhập số điện thoại đúng định dạnh");
            return false;
        }
        if (txt_Email_NV.getText().isEmpty()) {
        JOptionPane.showMessageDialog(this, "Email không được để trống");
        return false;
        }
        String email = txt_Email_NV.getText();
        if (!email.matches("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$")) {
            JOptionPane.showMessageDialog(this, "Email không hợp lệ");
            return false;
        }
        if (Tar_DiaChi_NV.getText().isEmpty()) {
            JOptionPane.showMessageDialog(this, "Địa chỉ không được để trống");
            return false;
        }
        return true;
    }
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////
    private void fillDataToTableKH(){
        KhachHangDAO khdao = new KhachHangDAO();
        listKH = khdao.readAllKhachHang();
        tblModel = (DefaultTableModel) tbl_khachHang_KH.getModel();
        tblModel.setRowCount(0);
        for (KhachHang kh: listKH){
            Object[] row = new Object[]{kh.getMaKH(), kh.getTenKH(),kh.getSoDT(), kh.getDiaChi()};
            tblModel.addRow(row);
        }
        tbl_khachHang_KH.setModel(tblModel);
    }
    private void searchAndFillDataToTableKH() {
        String keyword = txt_Search_KH.getText();
        List<KhachHang> listKH = searchKhachHang(keyword);
        updateTableKH(listKH);
        txt_Search_KH.setText("");
    }
    private List<KhachHang> searchKhachHang(String keyword) {
        KhachHangDAO khdao = new KhachHangDAO();
        return khdao.findKhachHang(keyword);
    }
    private void updateTableKH(List<KhachHang> listKH) {
        tblModel.setRowCount(0); // Clear old data
        for (KhachHang kh : listKH) {
            Object[] row = new Object[]{kh.getMaKH(), kh.getTenKH(),kh.getSoDT(), kh.getDiaChi()};
            tblModel.addRow(row);
        }
        tbl_khachHang_KH.setModel(tblModel);
    }
    private void clearKH(){
        txt_TenKH_KH.setText("");
        txt_SDT_KH.setText("");
        Tar_DiaChi_KH.setText("");
    }
    private void ThemKH(){
        if (!isInputValidKH()) {
            return;
        }
        KhachHang kh = new KhachHang();
        KhachHangDAO khdao = new KhachHangDAO();
        kh.setTenKH(txt_TenKH_KH.getText());
        kh.setSoDT(txt_SDT_KH.getText());  
        kh.setDiaChi(Tar_DiaChi_KH.getText());
        //int sdt = Integer.parseInt(txt_SDT.getText());
        
            if(khdao.isCustomerDataValid(txt_SDT_KH.getText())){
                boolean result = khdao.themKhachHang(kh);
                if(result){
                    JOptionPane.showMessageDialog(this,"Thêm thành công!");
                    fillDataToTable();
                }
                else
                    JOptionPane.showMessageDialog(this,"Thêm thất bại");
            }
            else
            {
                JOptionPane.showMessageDialog(this,"Không được trùng số điện thoại!");
            }
        
    }
    private void XoaKH(){
        if (maKH >= 0) {
            KhachHangDAO khdao = new KhachHangDAO();// Kiểm tra xem có mã nhân viên được chọn không
            boolean result = khdao.xoaKhachHang(maKH);
            if (result) {
                JOptionPane.showMessageDialog(this, "Xóa Khách Hàng thành công!");
                fillDataToTable(); // Cập nhật lại danh sách nhân viên
            } else {
                JOptionPane.showMessageDialog(this, "Xóa Khách hàng thất bại.");
            }
        } else {
            JOptionPane.showMessageDialog(this, "Vui lòng chọn Khách hàng cần xóa.");
        }
    }
    private void capNhatKH(){
        if (!isInputValidKH()) {
            return;
        }
        if (maKH >= 0) {
            KhachHang kh = new KhachHang();
            KhachHangDAO khdao = new KhachHangDAO();
            kh.setMaKH(maKH);
            kh.setTenKH(txt_TenKH_KH.getText());
            kh.setSoDT(txt_SDT_KH.getText());
            kh.setDiaChi(Tar_DiaChi_KH.getText());
            
            String phone = kh.getSoDT();
            if(khdao.isCustomerDataValidSua(maKH,phone)) {
                    boolean result = khdao.suaKhachHang(kh);
                    if(result){
                        JOptionPane.showMessageDialog(this,"Sửa thành công!");
                        fillDataToTable();
                    }
                    else
                    {
                        JOptionPane.showMessageDialog(this,"Sửa thất bại");
                    }
            } else {
                JOptionPane.showMessageDialog(this,"Số điện thoại đã được sử dụng");
            }
        }
        else
            JOptionPane.showMessageDialog(this,"Khong lay được mã Khách Hàng");
    }
    private boolean isInputValidKH() {
        if (txt_TenKH_KH.getText().isEmpty()) {
            JOptionPane.showMessageDialog(this, "Tên khách hàng không được để trống");
            return false;
        }
        if (txt_SDT_KH.getText().isEmpty()) {
            JOptionPane.showMessageDialog(this, "Số điện thoại không được để trống");
            return false;
        }
        String sdt = txt_SDT_KH.getText();
        if (!sdt.matches("0\\d{9}")) {
            JOptionPane.showMessageDialog(this, "Vui lòng nhập số điện thoại đúng định dạnh");
            return false;
        }
        if (Tar_DiaChi_KH.getText().isEmpty()) {
            JOptionPane.showMessageDialog(this, "Địa chỉ không được để trống");
            return false;
        }
        return true;
    }
    
    //////////////////////////////////////////////////////////////////////////////
    private void loadCboNhanVien()
    {
         NhanVienDAO nvdao = new NhanVienDAO();
        cboNhanVien_TK.removeAllItems(); 
         cboNhanVien_TK.addItem("Chọn nhân viên");
        listNV = nvdao.readAllNhanVien();
           for (NhanVien nv : listNV) {
               cboNhanVien_TK.addItem(nv.getTenNV());
           }
           cboNhanVien_TK.setSelectedIndex(0);
           
       }
     
      private void filldateTable(){
          TaiKhoanDao tkdao = new TaiKhoanDao();
          NhanVienDAO nvdao = new NhanVienDAO();
          tblModel = (DefaultTableModel) tblTaiKhoan_TK.getModel(); // Đảm bảo sử dụng đúng model của bảng chi tiết phiếu nhập bên trái
          tblModel.setRowCount(0);
      
        listTK= tkdao.readAllTaiKhoan();
        tblModel = (DefaultTableModel) tblTaiKhoan_TK.getModel();
        tblModel.setRowCount(0);
        for (TaiKhoan sv: listTK){
            Object[] row = new Object[]{sv.getTenDN(), sv.getMatKhau(), sv.getVaiTro(), nvdao.searchNhanVienTheoma(sv.getMaNV()).getTenNV()};
            tblModel.addRow(row);
        }
        tblTaiKhoan_TK.setModel(tblModel);
    }
      
      
      private void showDetail() {
        NhanVienDAO nvdao = new NhanVienDAO();
        
        int index = tblTaiKhoan_TK.getSelectedRow();
        if (index < 0) {
            JOptionPane.showMessageDialog(this, "Bạn chưa chọn dòng nào trên bảng.");
        } else {
            TaiKhoan tk = listTK.get(index);
            txtTenDN_TK.setText(String.valueOf(tk.getTenDN()));

            // Tìm và chọn giá trị trong ComboBox NCC
            String nvValue = String.valueOf(tk.getMaNV());
              NhanVien selectedNV = nvdao.searchNhanVienTheoma(Integer.parseInt(nvValue));
               if (selectedNV != null) {
                cboNhanVien_TK.setSelectedItem(selectedNV.getTenNV());
            }
            txtMatKhau_TK.setText(tk.getMatKhau());
            txtVaiTro_TK.setText(tk.getVaiTro());

           
        }
        
   }
      private void clearFormTK(){
          txtTenDN_TK.setText("");
          txtMatKhau_TK.setText("");
          txtVaiTro_TK.setText("");
         
         cboNhanVien_TK.setSelectedIndex(0);
          cboNhanVien_TK.getSelectedIndex();
      }
}